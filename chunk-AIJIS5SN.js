import{a as ni,b as st,d as mt}from"./chunk-3K6K642Y.js";import{a as ve}from"./chunk-NFZAHOB5.js";import"./chunk-QNVYQZLD.js";import"./chunk-EF4GD7QE.js";import{c as Nt,d as vt,g as Re,i as bt}from"./chunk-NKYF2MJO.js";import{C as D,D as zt,E as Ut,F as $t,G as Xe,H as et,I as Gt,J as qt,K as Yt,L as Jt,M as Qt,N as Zt,O as Xt,P as ei,Q as ti,R as tt,S as we,T as it,U as ii,V as nt,W as rt,X as at,Y as ot,Z as lt,_ as A,d as He,e as z,f as k,g as U,h as be,i as ze,j as Ie,k as $,l as Ce,m as Ue,n as $e,o as Wt,p as Bt,q as Ge,r as qe,s as Ye,t as Kt,u as Je,v as Qe,w as Rt,x as Ht,y as N,z as Ze}from"./chunk-UKKAPLC4.js";import{a as jt}from"./chunk-V53RCFMN.js";import{$a as f,$b as P,Aa as c,Ca as q,Cb as V,D as gt,Db as _t,E as me,Eb as Y,Ib as It,K as ue,L as Ae,Mb as Be,N as Fe,Na as p,O as ft,Oa as t,Pa as i,Q as h,Qa as d,R as x,S as Le,Tb as re,Ua as ge,Ub as F,Va as fe,Vb as I,Wb as kt,Xa as b,Yb as Ot,Z as te,Za as _,Zb as ye,_b as ae,ac as L,b as St,c as Mt,db as Ve,dc as At,eb as Ne,ec as Ke,fa as ie,fb as je,h as ee,i as ut,j as Me,jb as Pe,ka as ht,la as xt,lb as Tt,lc as Ft,ma as m,mc as Lt,nb as he,nc as _e,ob as l,oc as Dt,pb as v,pc as Vt,qa as w,qb as C,rb as W,rc as J,s as Ee,sb as Pt,t as Te,tb as S,ub as M,va as T,vb as E,wa as De,wb as xe,x as Et,xb as ne,yb as yt,zb as We}from"./chunk-MP734VFG.js";import{a as H,b as Z,e as se}from"./chunk-6MDQTQU3.js";function bi(a,s){if(a&1&&(t(0,"div",2)(1,"div",3),d(2,"i",4),t(3,"div",5),l(4),i(),d(5,"i",6),i()()),a&2){let o=s.$implicit;m(3),p("routerLink",o.routeLink),m(),C(" ",o.name," ")}}var X=(()=>{let s=class s{constructor(){this.headerLinkItems=[]}};s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=T({type:s,selectors:[["app-custom-header-link"]],inputs:{headerLinkItems:"headerLinkItems"},decls:2,vars:1,consts:[[1,"flex","items-center","gap-8"],["class","flex items-center cursor-pointer group",4,"ngFor","ngForOf"],[1,"flex","items-center","cursor-pointer","group"],[1,"flex","items-center","gap-2"],[1,"fa-regular","fa-file-lines","text-xl","text-primary-700"],["routerLinkActive","!text-primary-700 border-b-2 border-solid border-primary-700",1,"text-base","text-black","hover:text-primary-600","focus:outline-none",3,"routerLink"],[1,"fa-solid","fa-chevron-down","text-xs","text-primary-700"]],template:function(r,n){r&1&&(t(0,"div",0),c(1,bi,6,2,"div",1),i()),r&2&&(m(),p("ngForOf",n.headerLinkItems))},dependencies:[P,F,J,Dt,Vt],encapsulation:2});let a=s;return a})();var Ci=a=>({"line-clamp-4":a});function wi(a,s){a&1&&(t(0,"span",11),l(1,"Under Development"),i())}function Si(a,s){if(a&1){let o=b();t(0,"button",12),_("click",function(r){h(o);let n=f();return x(n.openModal(r))}),l(1,"See More"),i()}}function Mi(a,s){if(a&1){let o=b();t(0,"a",13),_("click",function(r){return h(o),x(r.stopPropagation())}),d(1,"i",14),i()}if(a&2){let o=f();p("href",o.projectDetails.githubUrl,xt)}}function Ei(a,s){if(a&1){let o=b();t(0,"a",13),_("click",function(r){return h(o),x(r.stopPropagation())}),d(1,"i",15),i()}if(a&2){let o=f();p("href",o.projectDetails.liveUrl,xt)}}var ri=(()=>{let s=class s{constructor(e,r){this.router=e,this.dialog=r,this.showFullText=!1}navigateToProject(){this.router.navigate([this.projectDetails.path])}openModal(e){e.stopPropagation(),this.dialog.open(Ti,{data:{description:this.projectDetails.description}})}};s.\u0275fac=function(r){return new(r||s)(w(_e),w(it))},s.\u0275cmp=T({type:s,selectors:[["app-project-card"]],inputs:{projectDetails:"projectDetails"},decls:14,vars:10,consts:[[1,"group","rounded-2xl","p-4","border","border-solid","border-primary-700","cursor-pointer","flex","flex-col","w-full","hover:bg-primary-50/20","hover:scale-105","transition-transform","relative",3,"click"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],[1,"text-2xl","text-primary-700","mr-2",3,"ngClass"],[1,"text-xl","text-black"],["class","text-sm text-primary-700",4,"ngIf"],[1,"text-gray-500","mt-2","overflow-hidden",3,"ngClass","innerHTML"],["class","text-blue-500 hover:text-blue-700",3,"click",4,"ngIf"],[1,"mt-4","flex","gap-2"],["target","_blank","class","text-primary-700 hover:text-primary-600",3,"href","click",4,"ngIf"],[1,"absolute","bottom-0","left-0","w-full","p-3","bg-primary-700","text-white","text-center","rounded-b-2xl","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"text-sm","text-primary-700"],[1,"text-blue-500","hover:text-blue-700",3,"click"],["target","_blank",1,"text-primary-700","hover:text-primary-600",3,"click","href"],[1,"fab","fa-github"],[1,"fas","fa-external-link-alt"]],template:function(r,n){r&1&&(t(0,"div",0),_("click",function(){return n.navigateToProject()}),t(1,"div",1)(2,"div",2),d(3,"i",3),t(4,"span",4),l(5),i()(),c(6,wi,2,0,"span",5),i(),d(7,"div",6),c(8,Si,2,0,"button",7),t(9,"div",8),c(10,Mi,2,1,"a",9)(11,Ei,2,1,"a",9),i(),t(12,"div",10),l(13," Check it out! "),i()()),r&2&&(m(3),p("ngClass",n.projectDetails.icon),m(2),v(n.projectDetails.name),m(),p("ngIf",n.projectDetails.underDevelopment),m(),p("ngClass",We(8,Ci,!n.showFullText))("innerHTML",n.projectDetails.description,ht),m(),p("ngIf",!n.showFullText&&n.projectDetails.description.length>150),m(2),p("ngIf",n.projectDetails.githubUrl),m(),p("ngIf",n.projectDetails.liveUrl))},dependencies:[P,re,I,J],encapsulation:2});let a=s;return a})(),Ti=(()=>{let s=class s{constructor(e){this.data=e}};s.\u0275fac=function(r){return new(r||s)(w(we))},s.\u0275cmp=T({type:s,selectors:[["project-description-modal"]],standalone:!1,decls:2,vars:1,consts:[["mat-dialog-content","",1,"p-6"],[3,"innerHTML"]],template:function(r,n){r&1&&(t(0,"div",0),d(1,"div",1),i()),r&2&&(m(),p("innerHTML",n.data.description,ht))},encapsulation:2});let a=s;return a})();function Pi(a,s){if(a&1&&(t(0,"div"),d(1,"app-project-card",5),i()),a&2){let o=s.$implicit;m(),p("projectDetails",o)}}var pt=(()=>{let s=class s{constructor(e,r,n){this.router=e,this.seoService=r,this.platformId=n,this.allProjects=[{name:"Weather Dashboard",path:"home/projects/weather-dashboard",description:"Stay informed about weather conditions with our interactive Weather Dashboard. Search for locations, save your favorites, and get real-time weather updates including temperature, conditions, humidity, and wind speed. The dynamic background changes based on current weather conditions for an immersive experience.",icon:"fas fa-cloud-sun-rain",underDevelopment:!1,githubUrl:"https://github.com/AmanPareek/AmanPareek.com",liveUrl:"https://amanpareek.com/home/projects/weather-dashboard"},{name:"Todo List",path:"home/projects/todo-list",description:"A simple yet powerful Todo List application that helps you manage your tasks efficiently. Features include adding, completing, and removing todos with smooth animations. Your todos are automatically saved to local storage, ensuring your tasks persist even after closing the browser.",icon:"fas fa-tasks",underDevelopment:!1,githubUrl:"https://github.com/AmanPareek/AmanPareek.com",liveUrl:"https://amanpareek.com/home/projects/todo-list"},{name:"Trip Planner",path:"home/projects/trip-planner",description:`\u{1F9ED} Plan Your Trip \u2013 AI Style (BYOK: Bring Your Own Key \u{1F609})
      <br>
Enter your start location, destination, days, travel mode & preferences \u2014 and get a beautifully crafted Markdown itinerary powered by ChatGPT.
<br>
\u2705 Fully frontend-only (no backend, no API hosting)
<br>
\u2705 Uses your own OpenAI API key for privacy
<br>
\u2705 Suggests real places, costs, tips, and more!
<br>

Built with Angular 20 + ngx-markdown to show how powerful and private AI-powered apps can be \u2014 without a single line of backend code.
<br>
Want to try it out? Ping me for a temporary key!
`,icon:"fas fa-route",underDevelopment:!1,githubUrl:"https://github.com/AmanPareek/AmanPareek.com",liveUrl:"https://amanpareek.com/home/projects/trip-planner"},{name:"Can I Eat This?",path:"home/projects/can-i-eat-this",description:`\u{1F355} Can I Eat This? is your sassiest sidekick in the kitchen (and the midnight fridge raids).
<br>
\u{1F9E0} Backed by science. \u{1F5E3}\uFE0F Powered by sarcasm.
<br>
Just type in what you're craving \u2014 "Can I eat 3 gulab jamuns after skipping leg day?" \u2014 and get a brutally honest, cheekily personalized verdict.
<br>
Whether it's \u{1F957} kale or \u{1F35F} fries, this AI nutritionist will judge your choices with facts, flair, and a sprinkle of guilt-tripping.
<br>
\u{1F483} Your cravings won\u2019t know what hit them.`,icon:"fas fa-apple-alt",underDevelopment:!1,githubUrl:"https://github.com/AmanPareek/AmanPareek.com",liveUrl:"https://amanpareek.com/home/projects/can-i-eat-this"}],this.headerLinkItems=[{name:"All Projects",isActive:!0}]}ngOnInit(){L(this.platformId)&&this.setSeoData()}setSeoData(){let e="Projects",r="Explore my portfolio of innovative web applications and projects. From Weather Dashboard to AI-powered Trip Planner, discover how I leverage Angular, React, and modern web technologies to create engaging user experiences.",n="https://amanpareek.com/assets/images/projects-og.jpg",u=this.router.url;this.seoService.setSeoData({title:e,description:r,image:n,url:u,keywords:"Aman Pareek Projects, Weather Dashboard, Todo List, Trip Planner, Angular Projects, React Projects, Web Applications, Frontend Development",type:"website",author:"Aman Pareek",section:"Projects"}),this.seoService.addBreadcrumbStructuredData([{name:"Home",url:"https://amanpareek.com"},{name:"Projects",url:"https://amanpareek.com/projects"}]);let y={"@context":"https://schema.org","@type":"CollectionPage",name:"Aman Pareek - Projects Portfolio",description:"A collection of web development projects showcasing Angular, React, and modern web technologies",url:"https://amanpareek.com/projects",author:{"@type":"Person",name:"Aman Pareek"},publisher:{"@type":"Organization",name:"Aman Pareek Portfolio"},mainEntity:{"@type":"ItemList",itemListElement:this.allProjects.map((j,K)=>({"@type":"ListItem",position:K+1,item:{"@type":"SoftwareApplication",name:j.name,description:j.description.replace(/<[^>]*>/g,""),url:j.liveUrl,applicationCategory:"WebApplication",operatingSystem:"Web Browser",author:{"@type":"Person",name:"Aman Pareek"}}}))}};this.seoService.addStructuredData(y)}};s.\u0275fac=function(r){return new(r||s)(w(_e),w(jt),w(ie))},s.\u0275cmp=T({type:s,selectors:[["app-projects"]],decls:6,vars:2,consts:[[1,"h-[calc(100vh-90px)]","max-md:h-[calc(100vh-100px)]","bg-white","flex","w-full","px-4","pb-4","flex-col"],[1,"my-2","flex","items-center","justify-between"],[3,"headerLinkItems"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","rounded-lg","border","border-solid","border-gray-200","p-4","max-md:p-2"],[4,"ngFor","ngForOf"],[3,"projectDetails"]],template:function(r,n){r&1&&(t(0,"div",0)(1,"div",1),d(2,"app-custom-header-link",2),i(),t(3,"div",3),c(4,Pi,2,1,"div",4),i(),d(5,"router-outlet"),i()),r&2&&(m(2),p("headerLinkItems",n.headerLinkItems),m(2),p("ngForOf",n.allProjects))},dependencies:[P,F,J,Lt,X,ri],encapsulation:2});let a=s;return a})();var oe=(()=>{let s=class s{constructor(e){this.http=e,this.geocodingApiUrl="https://geocoding-api.open-meteo.com/v1/search",this.weatherApiUrl="https://api.open-meteo.com/v1/forecast"}getCurrentLocation(){return new St(e=>{if(!navigator.geolocation){e.error(new Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(r=>{this.http.get(`${this.geocodingApiUrl}?latitude=${r.coords.latitude}&longitude=${r.coords.longitude}&count=1&language=en&format=json`).subscribe({next:n=>{n.results&&n.results.length>0?e.next(n.results[0].name):e.error(new Error("Location not found"))},error:n=>e.error(n)})},r=>{e.error(new Error("Unable to retrieve your location"))})})}getWeatherData(e){return this.http.get(`${this.geocodingApiUrl}?name=${encodeURIComponent(e)}&count=1&language=en&format=json`).pipe(me(r=>{if(!r.results||r.results.length===0)return ut(()=>new Error("Location not found"));let{latitude:n,longitude:u,name:g,admin1:y,country:j}=r.results[0],K=[g];y&&K.push(y),j&&K.push(j);let R=K.join(", ");return this.http.get(`${this.weatherApiUrl}?latitude=${n}&longitude=${u}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,surface_pressure,visibility,weather_code&daily=sunrise,sunset&timezone=auto`).pipe(Me(Q=>this.mapToWeatherData(Q,g,y,j,R)))}),Ee(r=>(console.error("Error fetching weather data:",r),ut(()=>r))))}searchLocations(e){return!e||e.length<2?ee([]):this.http.get(`${this.geocodingApiUrl}?name=${encodeURIComponent(e)}&count=5&language=en&format=json`).pipe(Me(r=>r.results?.map(n=>({name:n.name,state:n.admin1,country:n.country,displayName:[n.name,n.admin1,n.country].filter(Boolean).join(", ")}))||[]),Ee(()=>ee([])))}mapToWeatherData(e,r,n,u,g){return{location:g||r,state:n,country:u||"",temperature:e.current.temperature_2m,feelsLike:e.current.temperature_2m,humidity:e.current.relative_humidity_2m,windSpeed:e.current.wind_speed_10m,description:this.getWeatherDescription(e.current.weather_code),icon:this.getWeatherIcon(e.current.weather_code),pressure:e.current.surface_pressure,visibility:e.current.visibility,sunrise:new Date(e.daily.sunrise[0]).getTime()/1e3,sunset:new Date(e.daily.sunset[0]).getTime()/1e3}}getWeatherDescription(e){return{0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Foggy",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",71:"Slight snow",73:"Moderate snow",75:"Heavy snow",77:"Snow grains",80:"Slight rain showers",81:"Moderate rain showers",82:"Violent rain showers",85:"Slight snow showers",86:"Heavy snow showers",95:"Thunderstorm",96:"Thunderstorm with slight hail",99:"Thunderstorm with heavy hail"}[e]||"Unknown"}getWeatherIcon(e){return{0:"01d",1:"02d",2:"03d",3:"04d",45:"50d",48:"50d",51:"09d",53:"09d",55:"09d",61:"10d",63:"10d",65:"10d",71:"13d",73:"13d",75:"13d",77:"13d",80:"09d",81:"09d",82:"09d",85:"13d",86:"13d",95:"11d",96:"11d",99:"11d"}[e]||"01d"}};s.\u0275fac=function(r){return new(r||s)(Fe(Ke))},s.\u0275prov=ue({token:s,factory:s.\u0275fac,providedIn:"root"});let a=s;return a})();function ki(a,s){if(a&1){let o=b();t(0,"div",6),_("click",function(){let r=h(o).$implicit,n=f(2);return x(n.selectLocation(r))}),t(1,"div",7),l(2),i(),t(3,"div",8),l(4),i()()}if(a&2){let o=s.$implicit;m(2),v(o.name),m(2),W(" ",o.state?o.state+", ":"","",o.country," ")}}function Oi(a,s){if(a&1&&(t(0,"div",4),c(1,ki,5,3,"div",5),i()),a&2){let o=f();m(),p("ngForOf",o.suggestions)}}var oi=(()=>{let s=class s{constructor(e){this.weatherService=e,this.locationAdded=new q,this.searchQuery="",this.suggestions=[],this.searchSubject=new Mt,this.searchSubject.pipe(Te(300),Et(),me(r=>this.weatherService.searchLocations(r))).subscribe({next:r=>{this.suggestions=r},error:r=>{console.error("Error searching locations:",r),this.suggestions=[]}})}onSearch(){this.searchQuery.trim()?this.searchSubject.next(this.searchQuery):this.suggestions=[]}selectLocation(e){this.locationAdded.emit(e.displayName),this.searchQuery="",this.suggestions=[]}};s.\u0275fac=function(r){return new(r||s)(w(oe))},s.\u0275cmp=T({type:s,selectors:[["app-location-search"]],outputs:{locationAdded:"locationAdded"},features:[ne([oe])],decls:4,vars:2,consts:[[1,"w-full","sm:w-3/4","md:w-1/2","mx-auto","px-2"],[1,"relative"],["type","text","placeholder","Search for a location...",1,"w-full","px-3","py-2","text-base","md:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-primary-500","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","input","ngModel"],["class","absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg border border-primary-200 max-h-60 overflow-y-auto",4,"ngIf"],[1,"absolute","z-10","w-full","mt-1","bg-white","rounded-lg","shadow-lg","border","border-primary-200","max-h-60","overflow-y-auto"],["class","px-4 py-3 md:py-2 cursor-pointer hover:bg-primary-50",3,"click",4,"ngFor","ngForOf"],[1,"px-4","py-3","md:py-2","cursor-pointer","hover:bg-primary-50",3,"click"],[1,"text-primary-900","text-base","md:text-lg"],[1,"text-sm","text-gray-500"]],template:function(r,n){r&1&&(t(0,"div",0)(1,"div",1)(2,"input",2),E("ngModelChange",function(g){return M(n.searchQuery,g)||(n.searchQuery=g),g}),_("input",function(){return n.onSearch()}),i(),c(3,Oi,2,1,"div",3),i()()),r&2&&(m(2),S("ngModel",n.searchQuery),m(),p("ngIf",n.suggestions.length>0))},dependencies:[P,F,I,N,z,U,$],styles:["[_nghost-%COMP%]{display:block;width:100%}"]});let a=s;return a})();function Ai(a,s){if(a&1&&(t(0,"span",10),l(1),i()),a&2){let o=f();m(),W(" ",o.weatherData.state?o.weatherData.state+", ":"","",o.weatherData.country," ")}}function Fi(a,s){a&1&&(t(0,"div",11)(1,"div",12),d(2,"i",13),t(3,"p",14),l(4,"Loading weather data..."),i()()())}function Li(a,s){if(a&1&&(t(0,"div",15)(1,"div",12),d(2,"i",16),t(3,"p",17),l(4),i()()()),a&2){let o=f();m(4),v(o.error)}}function Di(a,s){if(a&1&&(t(0,"div",18)(1,"div",19),d(2,"i"),i(),t(3,"div",20)(4,"span",21),l(5),i(),t(6,"span",22),l(7),i()(),t(8,"div",23)(9,"div",24),d(10,"i",25),t(11,"span",26),l(12),i()(),t(13,"div",24),d(14,"i",27),t(15,"span",26),l(16),i()()(),t(17,"div",28),l(18),i()()),a&2){let o=f();m(2),he(o.getWeatherIcon()),m(3),C("",o.weatherData.temperature,"\xB0C"),m(2),C("Feels like: ",o.weatherData.feelsLike,"\xB0C"),m(5),C("Humidity: ",o.weatherData.humidity,"%"),m(4),C("Wind: ",o.weatherData.windSpeed," m/s"),m(2),C(" ",o.weatherData.description," ")}}var li=(()=>{let s=class s{constructor(){this.weatherData=null,this.location="",this.isLoading=!1,this.error=null}getCurrentDate(){return new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}getWeatherIcon(){if(!this.weatherData)return"fa-solid fa-cloud";let e=this.weatherData.description.toLowerCase();return e.includes("clear")||e.includes("sunny")?"fa-solid fa-sun":e.includes("cloud")?"fa-solid fa-cloud":e.includes("rain")?"fa-solid fa-cloud-rain":e.includes("snow")?"fa-solid fa-snowflake":e.includes("thunder")?"fa-solid fa-bolt":e.includes("fog")||e.includes("mist")?"fa-solid fa-smog":"fa-solid fa-cloud"}getWeatherBackground(){if(!this.weatherData)return"";let e=this.weatherData.description.toLowerCase(),r=[];return e.includes("rain")||e.includes("drizzle")?e.includes("heavy")||e.includes("violent")?r.push("weather-heavy-rain"):r.push("weather-rain"):e.includes("snow")?e.includes("heavy")?r.push("weather-heavy-snow"):r.push("weather-snow"):e.includes("cloud")?r.push("weather-clouds"):e.includes("clear")||e.includes("sunny")?r.push("weather-clear"):e.includes("thunder")?r.push("weather-thunder"):(e.includes("fog")||e.includes("mist"))&&r.push("weather-fog"),this.weatherData.temperature>=30?r.push("weather-hot"):this.weatherData.temperature<=5&&r.push("weather-cold"),this.weatherData.windSpeed>=15?r.push("weather-very-windy"):this.weatherData.windSpeed>=8&&r.push("weather-windy"),r.join(" ")}};s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=T({type:s,selectors:[["app-weather-card"]],inputs:{weatherData:"weatherData",location:"location",isLoading:"isLoading",error:"error"},decls:12,vars:7,consts:[[1,"weather-card","border","border-primary-100/40","m-2","border-solid","min-h-[300px]","bg-white/90",3,"ngClass"],[1,"weather-animation"],[1,"card-header"],[1,"location-info"],[1,"text-primary-900"],["class","location-details text-primary-600",4,"ngIf"],[1,"date","text-primary-600"],["class","loading-state h-full flex items-center justify-center",4,"ngIf"],["class","error-state h-full flex items-center justify-center",4,"ngIf"],["class","card-content",4,"ngIf"],[1,"location-details","text-primary-600"],[1,"loading-state","h-full","flex","items-center","justify-center"],[1,"flex","flex-col","items-center","gap-2"],[1,"fa-solid","fa-spinner","fa-spin","text-2xl","text-primary-600"],[1,"text-sm","text-primary-500"],[1,"error-state","h-full","flex","items-center","justify-center"],[1,"fa-solid","fa-triangle-exclamation","text-2xl","text-red-500"],[1,"text-sm","text-red-500"],[1,"card-content"],[1,"weather-icon"],[1,"temperature"],[1,"current-temp","text-primary-900"],[1,"feels-like","text-primary-600"],[1,"weather-details"],[1,"detail"],[1,"fa-solid","fa-droplet","text-primary-600"],[1,"text-primary-700"],[1,"fa-solid","fa-wind","text-primary-600"],[1,"weather-condition","text-primary-800"]],template:function(r,n){r&1&&(t(0,"div",0),d(1,"div",1),t(2,"div",2)(3,"div",3)(4,"h3",4),l(5),i(),c(6,Ai,2,2,"span",5),i(),t(7,"span",6),l(8),i()(),c(9,Fi,5,0,"div",7)(10,Li,5,1,"div",8)(11,Di,19,7,"div",9),i()),r&2&&(p("ngClass",n.getWeatherBackground()),m(5),v(n.location),m(),p("ngIf",n.weatherData),m(2),v(n.getCurrentDate()),m(),p("ngIf",n.isLoading),m(),p("ngIf",n.error),m(),p("ngIf",!n.isLoading&&!n.error&&n.weatherData))},dependencies:[P,re,I],styles:["@keyframes _ngcontent-%COMP%_rain{0%{background-position:0 0}to{background-position:0 100%}}@keyframes _ngcontent-%COMP%_heavy-rain{0%{background-position:0 0}to{background-position:0 100%}}@keyframes _ngcontent-%COMP%_snow{0%{background-position:0 0}to{background-position:100% 100%}}@keyframes _ngcontent-%COMP%_heavy-snow{0%{background-position:0 0}to{background-position:100% 100%}}@keyframes _ngcontent-%COMP%_clouds{0%{background-position:0 0}to{background-position:100% 0}}@keyframes _ngcontent-%COMP%_strong-wind{0%{background-position:0 0}to{background-position:100% 0}}@keyframes _ngcontent-%COMP%_thunder{0%{filter:brightness(1)}92%{filter:brightness(1)}93%{filter:brightness(2)}94%{filter:brightness(1)}96%{filter:brightness(2)}98%{filter:brightness(1)}}@keyframes _ngcontent-%COMP%_hot-pulse{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}@keyframes _ngcontent-%COMP%_cold-pulse{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}@keyframes _ngcontent-%COMP%_card-hover{0%{transform:translateY(0) scale(1)}to{transform:translateY(-5px) scale(1.02)}}.weather-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 12px #0000001a;padding:20px;width:100%;display:flex;flex-direction:column;position:relative;overflow:hidden;transition:all .3s ease}@media (max-width: 640px){.weather-card[_ngcontent-%COMP%]{padding:10px 6px;min-height:220px;border-radius:8px}}.weather-card[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_card-hover .3s ease forwards;box-shadow:0 8px 24px #00000026}.weather-animation[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;z-index:0;transition:opacity .3s ease}.weather-card[_ngcontent-%COMP%]:hover   .weather-animation[_ngcontent-%COMP%]{opacity:.8}.card-header[_ngcontent-%COMP%], .card-content[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{position:relative;z-index:1}.weather-rain[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:repeating-linear-gradient(transparent,transparent 5px,rgba(255,255,255,.1) 5px,rgba(255,255,255,.1) 10px);animation:_ngcontent-%COMP%_rain 1s linear infinite;opacity:.7}.weather-heavy-rain[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:repeating-linear-gradient(transparent,transparent 3px,rgba(255,255,255,.2) 3px,rgba(255,255,255,.2) 6px);animation:_ngcontent-%COMP%_heavy-rain .5s linear infinite;opacity:.8}.weather-snow[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:radial-gradient(circle at 50% 50%,white 0%,transparent 8%),radial-gradient(circle at 30% 30%,white 0%,transparent 8%),radial-gradient(circle at 70% 70%,white 0%,transparent 8%);background-size:30px 30px;animation:_ngcontent-%COMP%_snow 5s linear infinite;opacity:.7}.weather-heavy-snow[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:radial-gradient(circle at 50% 50%,white 0%,transparent 8%),radial-gradient(circle at 30% 30%,white 0%,transparent 8%),radial-gradient(circle at 70% 70%,white 0%,transparent 8%),radial-gradient(circle at 20% 20%,white 0%,transparent 8%),radial-gradient(circle at 80% 80%,white 0%,transparent 8%);background-size:20px 20px;animation:_ngcontent-%COMP%_heavy-snow 3s linear infinite;opacity:.8}.weather-clouds[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:linear-gradient(to right,transparent 0%,rgba(255,255,255,.4) 50%,transparent 100%);background-size:200% 100%;animation:_ngcontent-%COMP%_clouds 8s linear infinite;opacity:.3}.weather-clear[_ngcontent-%COMP%]{background:linear-gradient(120deg,#ffffffe6,#e6ffffe6)}.weather-thunder[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_thunder 5s infinite}.weather-fog[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(255,255,255,.8) 0%,transparent 100%);opacity:.5}.weather-hot[_ngcontent-%COMP%]{background:linear-gradient(120deg,#ffc8644d,#ff96324d);background-size:200% 200%;animation:_ngcontent-%COMP%_hot-pulse 5s ease infinite}.weather-cold[_ngcontent-%COMP%]{background:linear-gradient(120deg,#c8e6ff4d,#96c8ff4d);background-size:200% 200%;animation:_ngcontent-%COMP%_cold-pulse 5s ease infinite}.weather-windy[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:linear-gradient(to right,transparent 0%,rgba(255,255,255,.2) 50%,transparent 100%);background-size:200% 100%;animation:_ngcontent-%COMP%_strong-wind 3s linear infinite;opacity:.4}.weather-very-windy[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:linear-gradient(to right,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%);background-size:200% 100%;animation:_ngcontent-%COMP%_strong-wind 1.5s linear infinite;opacity:.5}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:15px;transition:transform .3s ease}@media (max-width: 640px){.card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:2px;margin-bottom:8px}}.weather-card[_ngcontent-%COMP%]:hover   .card-header[_ngcontent-%COMP%]{transform:translateY(-2px)}.location-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:600;transition:color .3s ease}@media (max-width: 640px){.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}}.weather-card[_ngcontent-%COMP%]:hover   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:color-mix(in srgb,var(--colors-primary-700),transparent calc(100% - 100% * var(--tw-text-opacity)))}.location-details[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-top:2px}@media (max-width: 640px){.location-details[_ngcontent-%COMP%]{font-size:.75rem}}.date[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 640px){.date[_ngcontent-%COMP%]{font-size:.8rem;margin-top:2px}}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center}@media (max-width: 640px){.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{padding:10px 2px}}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px}@media (max-width: 640px){.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}}.error-state[_ngcontent-%COMP%]{color:#d32f2f}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex-grow:1;transition:transform .3s ease}@media (max-width: 640px){.card-content[_ngcontent-%COMP%]{gap:4px}}.weather-card[_ngcontent-%COMP%]:hover   .card-content[_ngcontent-%COMP%]{transform:translateY(-2px)}.weather-icon[_ngcontent-%COMP%]{font-size:3rem;margin:10px 0;color:#1976d2;transition:transform .3s ease,color .3s ease}@media (max-width: 640px){.weather-icon[_ngcontent-%COMP%]{font-size:2rem;margin:6px 0}}.weather-card[_ngcontent-%COMP%]:hover   .weather-icon[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:color-mix(in srgb,var(--colors-primary-600),transparent calc(100% - 100% * var(--tw-text-opacity)))}.temperature[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:10px 0}@media (max-width: 640px){.temperature[_ngcontent-%COMP%]{margin:6px 0}}.current-temp[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;transition:color .3s ease}@media (max-width: 640px){.current-temp[_ngcontent-%COMP%]{font-size:1.5rem}}.weather-card[_ngcontent-%COMP%]:hover   .current-temp[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:color-mix(in srgb,var(--colors-primary-700),transparent calc(100% - 100% * var(--tw-text-opacity)))}.feels-like[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-top:5px}@media (max-width: 640px){.feels-like[_ngcontent-%COMP%]{font-size:.75rem;margin-top:2px}}.weather-details[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;margin:15px 0}@media (max-width: 640px){.weather-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:2px;margin:6px 0}}.detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:.9rem;transition:transform .3s ease}@media (max-width: 640px){.detail[_ngcontent-%COMP%]{font-size:.8rem}}.weather-card[_ngcontent-%COMP%]:hover   .detail[_ngcontent-%COMP%]{transform:translateY(-2px)}.detail[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-bottom:5px;color:#1976d2;transition:color .3s ease}@media (max-width: 640px){.detail[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:2px}}.weather-card[_ngcontent-%COMP%]:hover   .detail[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1565c0}.weather-condition[_ngcontent-%COMP%]{text-align:center;font-size:1.1rem;font-weight:500;margin-top:10px;text-transform:capitalize;transition:color .3s ease}@media (max-width: 640px){.weather-condition[_ngcontent-%COMP%]{font-size:.9rem;margin-top:4px}}"]});let a=s;return a})();function Vi(a,s){if(a&1&&(t(0,"div",14),l(1),i()),a&2){let o=f();m(),C(" ",o.error," ")}}function Ni(a,s){if(a&1){let o=b();t(0,"div",19)(1,"span",20),l(2),i(),t(3,"button",21),_("click",function(r){let n=h(o).$implicit,u=f(2);return x(u.removeLocation(n,r))}),d(4,"i",22),i()()}if(a&2){let o=s.$implicit;m(2),v(o)}}function ji(a,s){if(a&1&&(t(0,"div",15)(1,"span",16),l(2,"Saved Locations"),i(),t(3,"div",17),c(4,Ni,5,1,"div",18),i()()),a&2){let o=f();m(4),p("ngForOf",o.locations)}}function Wi(a,s){if(a&1&&(t(0,"div",29)(1,"div",30),d(2,"i",31),t(3,"span",32),l(4),i()()()),a&2){let o=f().$implicit;m(4),C("Loading weather for ",o,"...")}}function Bi(a,s){if(a&1&&d(0,"app-weather-card",33),a&2){let o=f().$implicit,e=f(2);p("weatherData",e.weatherDataMap.get(o)||null)("location",o)("isLoading",e.loadingMap.get(o)||!1)("error",e.errorMap.get(o)||null)}}function Ki(a,s){if(a&1&&(t(0,"div"),c(1,Wi,5,1,"div",27)(2,Bi,1,4,"app-weather-card",28),i()),a&2){let o=s.$implicit,e=f(2);m(),p("ngIf",e.loadingMap.get(o)),m(),p("ngIf",!e.loadingMap.get(o))}}function Ri(a,s){if(a&1&&(t(0,"div",23)(1,"div",24)(2,"div",25),c(3,Ki,3,2,"div",26),i()()()),a&2){let o=f();m(3),p("ngForOf",o.locations)}}function Hi(a,s){a&1&&(t(0,"div",34),d(1,"i",35),t(2,"p",36),l(3,"Loading weather data..."),i()())}function zi(a,s){a&1&&(t(0,"div",37),d(1,"div",38)(2,"div",39),t(3,"div",40),d(4,"i",41),t(5,"h2",42),l(6,"Welcome to Weather Dashboard"),i(),t(7,"p",43),l(8,"Search for any location to get real-time weather updates, forecasts, and more."),i(),t(9,"div",44),d(10,"i",45),t(11,"p",46),l(12,"Use the search box above to find your location"),i()()()())}var mi=(()=>{let s=class s{constructor(e,r,n,u){this.weatherService=e,this.route=r,this.router=n,this.localStorage=u,this.locations=[],this.weatherDataMap=new Map,this.loading=!1,this.loadingMap=new Map,this.error=null,this.errorMap=new Map,this.routeSubscription=null,this.headerLinkItems=[{name:"All Projects",isActive:!1,routeLink:"/home/projects"},{name:"Weather Dashboard",isActive:!0}]}ngOnInit(){this.routeSubscription=this.route.queryParams.subscribe(e=>{let r=this.localStorage.getItem("weatherLocations");r&&(this.locations=JSON.parse(r)),e.locations&&(e.locations.split("|").forEach(u=>{let g=u.split(",")[0].trim();this.locations.includes(g)||this.locations.push(g)}),this.saveLocations()),this.locations.length>0&&(this.loadAllLocations(),this.updateUrlWithLocations())})}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}loadSavedLocations(){let e=this.localStorage.getItem("weatherLocations");e&&(this.locations=JSON.parse(e))}saveLocations(){this.localStorage.setItem("weatherLocations",JSON.stringify(this.locations))}loadAllLocations(){this.weatherDataMap.clear(),this.loadingMap.clear(),this.errorMap.clear(),this.locations.forEach(e=>{this.loadWeatherData(e)})}loadWeatherData(e){e&&!this.loadingMap.get(e)&&!this.weatherDataMap.get(e)&&(this.loadingMap.set(e,!0),this.errorMap.delete(e),this.weatherService.getWeatherData(e).subscribe({next:r=>{this.weatherDataMap.set(e,r),this.loadingMap.set(e,!1),this.error=null},error:r=>{this.errorMap.set(e,`Error loading weather data for ${e}. Please try again.`),this.loadingMap.set(e,!1),console.error(`Error loading weather data for ${e}:`,r)}}))}addLocation(e){this.error=null;let r=e.split(",")[0].trim();this.locations.includes(r)||(this.locations.push(r),this.saveLocations(),this.loadWeatherData(r),this.router.navigate([],{relativeTo:this.route,queryParams:{locations:this.locations.join("|")},queryParamsHandling:"merge",replaceUrl:!0}))}removeLocation(e,r){r.stopPropagation(),this.locations=this.locations.filter(n=>n!==e),this.saveLocations(),this.weatherDataMap.delete(e),this.loadingMap.delete(e),this.errorMap.delete(e),this.router.navigate([],{relativeTo:this.route,queryParams:{locations:this.locations.join("|")},queryParamsHandling:"merge",replaceUrl:!0})}updateUrlWithLocations(){this.router.navigate([],{relativeTo:this.route,queryParams:{locations:this.locations.join("|")},queryParamsHandling:"merge"})}shareLocations(){let e=window.location.href;navigator.clipboard.writeText(e).then(()=>{alert("Link copied to clipboard! Share this link to show the same locations to others.")}).catch(r=>{console.error("Failed to copy link:",r)})}};s.\u0275fac=function(r){return new(r||s)(w(oe),w(Ft),w(_e),w(ve))},s.\u0275cmp=T({type:s,selectors:[["app-weather-dashboard"]],features:[ne([oe])],decls:14,vars:10,consts:[[1,"h-[calc(100vh-90px)]","bg-white"],[1,"h-full","px-4","py-1","flex","flex-col","max-md:p-2","max-sm:px-1","max-sm:py-1"],[1,"flex-none","flex","items-center","justify-between","max-sm:flex-col","max-sm:items-start","max-sm:gap-2"],[3,"headerLinkItems"],[1,"flex","gap-2","max-sm:w-full","max-sm:justify-end"],[3,"onButtonClickEvent","iconClass","buttonName"],[1,"text-sm",3,"onButtonClickEvent","iconClass","buttonName"],[1,"flex-none","mt-3","max-sm:mt-2"],[3,"locationAdded"],["class","flex-none mt-3 bg-red-50 text-red-700 p-3 rounded-lg text-sm max-sm:p-2",4,"ngIf"],["class","flex-none mt-2 flex flex-col gap-2 border-x border-primary-900 rounded-xl px-4 py-2 max-sm:px-2 max-sm:py-1",4,"ngIf"],["class","flex-1 min-h-0 mt-2 pr-2 max-sm:pr-0",4,"ngIf"],["class","flex-1 flex flex-col items-center justify-center p-4 text-center max-sm:p-2",4,"ngIf"],["class","flex-1 min-h-0 relative overflow-hidden rounded-xl border border-gray-100 mt-2 max-sm:mt-1",4,"ngIf"],[1,"flex-none","mt-3","bg-red-50","text-red-700","p-3","rounded-lg","text-sm","max-sm:p-2"],[1,"flex-none","mt-2","flex","flex-col","gap-2","border-x","border-primary-900","rounded-xl","px-4","py-2","max-sm:px-2","max-sm:py-1"],[1,"text-sm","font-medium","text-primary-900","px-2","py-1","w-fit"],[1,"flex","flex-wrap","gap-2","max-sm:gap-1"],["class","flex items-center px-3 py-2 rounded-lg border border-solid border-gray-700/20 bg-white shadow-sm backdrop-blur-sm max-sm:px-2 max-sm:py-1",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-2","rounded-lg","border","border-solid","border-gray-700/20","bg-white","shadow-sm","backdrop-blur-sm","max-sm:px-2","max-sm:py-1"],[1,"text-black","text-sm","max-sm:text-xs"],[1,"ml-2","text-gray-400","hover:!text-red-500","transition-colors",3,"click"],[1,"fa-solid","fa-times"],[1,"flex-1","min-h-0","mt-2","pr-2","max-sm:pr-0"],[1,"h-full","overflow-y-auto"],[1,"grid","grid-cols-4","gap-4","max-xl:grid-cols-3","max-lg:grid-cols-2","max-md:grid-cols-1","px-2","py-4","max-sm:px-0","max-sm:py-2","gap-y-6","max-sm:gap-2"],[4,"ngFor","ngForOf"],["class","h-full rounded-xl border border-gray-200 p-4 flex items-center justify-center max-sm:p-2",4,"ngIf"],[3,"weatherData","location","isLoading","error",4,"ngIf"],[1,"h-full","rounded-xl","border","border-gray-200","p-4","flex","items-center","justify-center","max-sm:p-2"],[1,"flex","flex-col","items-center","gap-2"],[1,"fa-solid","fa-spinner","fa-spin","text-2xl","text-primary-700","max-sm:text-xl"],[1,"text-sm","text-gray-500","max-sm:text-xs"],[3,"weatherData","location","isLoading","error"],[1,"flex-1","flex","flex-col","items-center","justify-center","p-4","text-center","max-sm:p-2"],[1,"fa-solid","fa-spinner","fa-spin","text-3xl","text-primary-700","mb-2","max-sm:text-2xl"],[1,"text-gray-600","text-base","max-sm:text-sm"],[1,"flex-1","min-h-0","relative","overflow-hidden","rounded-xl","border","border-gray-100","mt-2","max-sm:mt-1"],[1,"absolute","inset-0","bg-gradient-to-br","from-blue-50","to-blue-100","opacity-95"],[1,"absolute","inset-0","bg-[url('https://images.unsplash.com/photo-1519692933481-e162a57d6721?q=80&w=1920')]","bg-cover","bg-center","mix-blend-overlay","opacity-40"],[1,"relative","h-full","flex","flex-col","items-center","justify-center","p-8","text-center","max-sm:p-3"],[1,"fa-solid","fa-cloud-sun","text-6xl","mb-4","text-primary-700","max-sm:text-4xl","max-sm:mb-2"],[1,"text-3xl","font-bold","mb-2","text-primary-900","max-sm:text-xl","max-sm:mb-1"],[1,"text-lg","mb-6","max-w-md","text-primary-800","max-sm:text-sm","max-sm:mb-3"],[1,"flex","flex-col","items-center","gap-4","max-sm:gap-2"],[1,"fa-solid","fa-magnifying-glass","text-2xl","text-primary-600","max-sm:text-lg"],[1,"text-sm","text-primary-700","max-sm:text-xs"]],template:function(r,n){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),d(3,"app-custom-header-link",3),t(4,"div",4)(5,"app-custom-button",5),_("onButtonClickEvent",function(){return n.loadAllLocations()}),i(),t(6,"app-custom-button",6),_("onButtonClickEvent",function(){return n.shareLocations()}),i()()(),t(7,"div",7)(8,"app-location-search",8),_("locationAdded",function(g){return n.addLocation(g)}),i()(),c(9,Vi,2,1,"div",9)(10,ji,5,1,"div",10)(11,Ri,4,1,"div",11)(12,Hi,4,0,"div",12)(13,zi,13,0,"div",13),i()()),r&2&&(m(3),p("headerLinkItems",n.headerLinkItems),m(2),p("iconClass","fa-solid fa-rotate text-sm")("buttonName","Refresh"),m(),p("iconClass","fa-solid fa-share text-sm")("buttonName","Share"),m(3),p("ngIf",n.error),m(),p("ngIf",n.locations.length>0),m(),p("ngIf",n.locations.length>0),m(),p("ngIf",n.loading&&n.locations.length===0),m(),p("ngIf",!n.loading&&n.locations.length===0))},dependencies:[P,F,I,N,oi,li,J,X,A,D],encapsulation:2});let a=s;return a})();var pi=(()=>{let s=class s{constructor(e,r){this.dialogRef=e,this.data=r}onNoClick(){this.dialogRef.close()}};s.\u0275fac=function(r){return new(r||s)(w(tt),w(we))},s.\u0275cmp=T({type:s,selectors:[["app-edit-group-name-dialog"]],decls:12,vars:2,consts:[["mat-dialog-title",""],["matInput","",3,"ngModelChange","ngModel"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(r,n){r&1&&(t(0,"h2",0),l(1,"Edit Group Name"),i(),t(2,"mat-dialog-content")(3,"mat-form-field")(4,"mat-label"),l(5,"Group Name"),i(),t(6,"input",1),E("ngModelChange",function(g){return M(n.data.groupName,g)||(n.data.groupName=g),g}),i()()(),t(7,"mat-dialog-actions")(8,"button",2),_("click",function(){return n.onNoClick()}),l(9,"Cancel"),i(),t(10,"button",3),l(11,"Save"),i()()),r&2&&(m(6),S("ngModel",n.data.groupName),m(4),p("mat-dialog-close",n.data.groupName))},dependencies:[ot,ii,nt,at,rt,N,z,U,$,et,Xe,$t,Ut,Qt,Jt],encapsulation:2});let a=s;return a})();function $i(a,s){if(a&1&&(t(0,"p")(1,"strong"),l(2,"Completed At:"),i(),l(3),V(4,"date"),i()),a&2){let o=f();m(3),C(" ",Y(4,1,o.data.completedAt,"fullDate"))}}var di=(()=>{let s=class s{constructor(e,r){this.dialogRef=e,this.data=r}onClose(){this.dialogRef.close()}};s.\u0275fac=function(r){return new(r||s)(w(tt),w(we))},s.\u0275cmp=T({type:s,selectors:[["app-todo-details-dialog"]],decls:15,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions",""],[3,"onButtonClickEvent","buttonName","iconClass"]],template:function(r,n){r&1&&(t(0,"h2",0),l(1,"Todo Details"),i(),t(2,"div",1)(3,"p")(4,"strong"),l(5,"Description:"),i(),l(6),i(),t(7,"p")(8,"strong"),l(9,"Created At:"),i(),l(10),V(11,"date"),i(),c(12,$i,5,4,"p",2),i(),t(13,"div",3)(14,"app-custom-button",4),_("onButtonClickEvent",function(){return n.onClose()}),i()()),r&2&&(m(6),C(" ",n.data.text),m(4),C(" ",Y(11,5,n.data.createdAt,"fullDate")),m(2),p("ngIf",n.data.completedAt),m(2),p("buttonName","Close")("iconClass","fa fa-times"))},dependencies:[ot,nt,at,rt,P,I,A,D,ye],encapsulation:2});let a=s;return a})();var Gi=["scrollContainer"],qi=a=>({"background-color":a});function Yi(a,s){if(a&1){let o=b();t(0,"button",25),_("click",function(){let r=h(o).$implicit,n=f();return x(n.selectedColor=r.name)}),i()}if(a&2){let o=s.$implicit,e=f();he("w-6 h-6 rounded-full border-2 "+o.class+" "+(e.selectedColor===o.name?"ring-2 ring-offset-2":""))}}function Ji(a,s){if(a&1){let o=b();t(0,"div",26)(1,"app-custom-button",10),_("onButtonClickEvent",function(){h(o);let r=f();return x(r.clearAllTodos())}),i()()}a&2&&(m(),p("buttonName","Clear All")("iconClass","fa fa-trash-alt"))}function Qi(a,s){if(a&1&&(t(0,"span"),l(1),V(2,"date"),i()),a&2){let o=f(2).$implicit;m(),C("Checked: ",Y(2,1,o.completedAt,"short"))}}function Zi(a,s){if(a&1&&(t(0,"div",44)(1,"span"),l(2),V(3,"date"),i(),c(4,Qi,3,4,"span",45),i()),a&2){let o=f().$implicit;m(2),C("Created: ",Y(3,2,o.createdAt,"short")),m(2),p("ngIf",o.completed)}}function Xi(a,s){if(a&1){let o=b();t(0,"div",36)(1,"span",37),l(2),i(),t(3,"input",38),_("change",function(){let r=h(o).$implicit,n=f(2);return x(n.toggleTodo(r))}),i(),t(4,"span",39),l(5),i(),t(6,"button",40),_("click",function(){let r=h(o).$implicit,n=f(2);return x(n.openTodoDetails(r))}),l(7," View Details "),i(),c(8,Zi,5,5,"div",41),t(9,"button",42),_("click",function(){let r=h(o).$implicit,n=f(2);return x(n.deleteTodo(r.id))}),d(10,"i",43),i()()}if(a&2){let o=s.$implicit,e=s.index,r=f().index,n=f();he(n.getColorClass(o.color)),m(2),W("",r+1,".",e+1),m(),p("checked",o.completed),m(),he(o.completed?"line-through text-gray-500":"text-gray-900"),p("title",o.text),m(),C(" ",o.text," "),m(3),p("ngIf",o.showDetails)}}function en(a,s){if(a&1){let o=b();t(0,"div",27)(1,"div",28)(2,"span",29),l(3),i(),t(4,"div",30)(5,"div",31)(6,"span"),l(7),i(),t(8,"span"),l(9),V(10,"number"),i()(),t(11,"button",32),_("click",function(){let r=h(o).$implicit,n=f();return x(n.openEditModal(r))}),d(12,"i",33),i()()(),t(13,"div",34),c(14,Xi,11,10,"div",35),i()()}if(a&2){let o=s.$implicit,e=f();p("ngStyle",We(9,qi,e.getColorClass(o.color))),m(3),C(" ",o.color," "),m(4),W("",e.getCompletedCount(o.todos),"/",o.todos.length),m(2),C("(",Y(10,6,e.getCompletedCount(o.todos)/o.todos.length*100,"1.0-0"),"%)"),m(5),p("ngForOf",o.todos)}}function tn(a,s){if(a&1){let o=b();t(0,"app-custom-button",46),_("onButtonClickEvent",function(){h(o);let r=f();return x(r.scrollLeft())}),i()}a&2&&p("iconClass","fa-solid fa-chevron-left")("buttonName","Scroll Left")}function nn(a,s){if(a&1){let o=b();t(0,"app-custom-button",46),_("onButtonClickEvent",function(){h(o);let r=f();return x(r.scrollRight())}),i()}a&2&&p("iconClass","fa-solid fa-chevron-right")("buttonName","Scroll Right")}function rn(a,s){a&1&&(t(0,"div",47),l(1," No todos yet. Add one above! "),i())}var ci=(()=>{let s=class s{constructor(e,r,n){this.cdr=r,this.dialog=n,this.todos=[],this.newTodoText="",this.selectedColor="blue",this.maxTextLength=500,this.canScrollLeft=!1,this.canScrollRight=!1,this.scrollAmount=300,this.colors=[{name:"blue",class:"bg-blue-100 border-blue-500"},{name:"green",class:"bg-green-100 border-green-500"},{name:"yellow",class:"bg-yellow-100 border-yellow-500"},{name:"red",class:"bg-red-100 border-red-500"},{name:"purple",class:"bg-purple-100 border-purple-500"},{name:"pink",class:"bg-pink-100 border-pink-500"},{name:"orange",class:"bg-orange-100 border-orange-500"},{name:"teal",class:"bg-teal-100 border-teal-500"}],this.headerLinkItems=[{name:"All Projects",isActive:!1,routeLink:"/home/projects"},{name:"Todo List",isActive:!0}],this.isBrowser=L(e)}ngOnInit(){this.loadTodos()}ngAfterViewInit(){this.checkScrollability()}onScroll(){this.checkScrollability()}checkScrollability(){if(!this.scrollContainer)return;let e=this.scrollContainer.nativeElement;this.canScrollLeft=e.scrollLeft>0,this.canScrollRight=e.scrollLeft<e.scrollWidth-e.clientWidth,this.cdr.detectChanges()}scrollLeft(){if(!this.scrollContainer)return;this.scrollContainer.nativeElement.scrollBy({left:-this.scrollAmount,behavior:"smooth"})}scrollRight(){if(!this.scrollContainer)return;this.scrollContainer.nativeElement.scrollBy({left:this.scrollAmount,behavior:"smooth"})}loadTodos(){if(this.isBrowser){let e=localStorage.getItem("todos");e&&(this.todos=JSON.parse(e))}}saveTodos(){this.isBrowser&&localStorage.setItem("todos",JSON.stringify(this.todos))}addTodo(){if(this.newTodoText.trim()&&this.newTodoText.length<=this.maxTextLength){let e={id:Date.now(),text:this.newTodoText.trim(),completed:!1,createdAt:new Date,color:this.selectedColor};this.todos=[e,...this.todos],this.newTodoText="",this.saveTodos(),this.checkScrollability()}}toggleTodo(e){e.completed=!e.completed,e.completed?e.completedAt=new Date:e.completedAt=void 0,this.todos=[...this.todos],this.saveTodos()}deleteTodo(e){this.todos=this.todos.filter(r=>r.id!==e),this.saveTodos(),this.checkScrollability()}clearAllTodos(){this.todos=[],this.saveTodos(),this.checkScrollability()}onKeyPress(e){e.key==="Enter"&&this.addTodo()}getColorClass(e){return this.colors.find(r=>r.name===e)?.class||this.colors[0].class}getGroupedTodos(){let e=this.todos.reduce((r,n)=>(r[n.color]||(r[n.color]=[]),r[n.color].push(n),r),{});return Object.entries(e).map(([r,n])=>({color:r,todos:n.sort((u,g)=>Number(u.completed)-Number(g.completed))}))}getCompletionStats(){let e=this.todos.length,r=this.todos.filter(u=>u.completed).length,n=e>0?Math.round(r/e*100):0;return{completed:r,total:e,percentage:n}}updateGroupName(e,r){let n=e.target.value.trim();n&&(r.color=n,this.saveTodos())}getCompletedCount(e){return e.filter(r=>r.completed).length}openEditModal(e){this.dialog.open(pi,{width:"250px",data:{groupName:e.color}}).afterClosed().subscribe(n=>{if(n!==void 0&&n!==e.color){let u=e.color;e.color=n,e.todos.forEach(g=>{g.color===u&&(g.color=n)}),this.saveTodos(),this.cdr.detectChanges()}})}toggleDetails(e){e.showDetails=!e.showDetails}openTodoDetails(e){this.dialog.open(di,{width:"400px",data:{text:e.text,createdAt:e.createdAt,completedAt:e.completedAt}})}};s.\u0275fac=function(r){return new(r||s)(w(ie),w(Be),w(it))},s.\u0275cmp=T({type:s,selectors:[["app-todo-list"]],viewQuery:function(r,n){if(r&1&&Ve(Gi,5),r&2){let u;Ne(u=je())&&(n.scrollContainer=u.first)}},decls:31,vars:15,consts:[["scrollContainer",""],[1,"h-[calc(100vh-90px)]","bg-white"],[1,"mx-auto","h-full"],[1,"h-full","px-4","py-2","flex","flex-col","max-md:p-4"],[1,"flex-none","flex","items-center","justify-between","mb-2"],[3,"headerLinkItems"],[1,"mb-2"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-2","items-center","max-md:flex-col","max-md:items-stretch","max-md:gap-2"],["type","text","placeholder","Add a new task...","maxlength","maxTextLength",1,"w-full","px-4","py-2","text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-primary-500","focus:outline-none","focus:ring-1","focus:ring-primary-500","max-md:text-base","max-md:px-3","max-md:py-2",3,"ngModelChange","keyup","ngModel"],[1,"max-md:w-full",3,"onButtonClickEvent","buttonName","iconClass"],[1,"flex","items-center","justify-between","max-md:flex-col","max-md:items-stretch","max-md:gap-2"],[1,"flex","items-center","gap-2","max-md:justify-between","max-md:w-full"],[1,"text-sm","text-gray-500"],[1,"flex-1","flex","gap-2","max-md:gap-1","max-md:flex-wrap"],[3,"class","click",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-2","max-md:justify-between","max-md:w-full","max-md:mt-2"],["class","flex justify-end max-md:w-auto",4,"ngIf"],[1,"flex-1","min-h-0","h-full","relative"],[1,"h-full","overflow-x-auto",3,"scroll"],[1,"flex","gap-4","h-full"],["class","flex-none h-full border-x border-solid border-x-primary-100 rounded-lg px-4 group",3,"ngStyle",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center"],["class","z-20",3,"iconClass","buttonName","onButtonClickEvent",4,"ngIf"],["class","text-center py-8 text-gray-500",4,"ngIf"],[3,"click"],[1,"flex","justify-end","max-md:w-auto"],[1,"flex-none","h-full","border-x","border-solid","border-x-primary-100","rounded-lg","px-4","group",3,"ngStyle"],[1,"flex","items-center","justify-between","border-b","border-primary-100"],[1,"text-lg","font-semibold","capitalize","bg-white","py-2","w-full"],[1,"flex","items-center"],[1,"text-sm","text-gray-500","flex","items-center","gap-2"],[1,"edit-button","p-2","text-blue-500","hover:text-blue-600","focus:outline-none","transition-opacity","opacity-0","group-hover:opacity-100",3,"click"],[1,"fa","fa-edit"],[1,"flex","flex-col","flex-wrap","h-[calc(100%-50px)]"],["class","todo-item m-2 break-inside-avoid p-4 rounded-lg group transition-colors flex items-center w-[400px]",3,"class",4,"ngFor","ngForOf"],[1,"todo-item","m-2","break-inside-avoid","p-4","rounded-lg","group","transition-colors","flex","items-center","w-[400px]"],[1,"text-sm","text-gray-500","mr-2"],["type","checkbox",1,"w-5","h-5","text-blue-500","border-gray-300","rounded","focus:ring-blue-500",3,"change","checked"],[1,"flex-1","truncate","ml-2",3,"title"],[1,"ml-2","text-primary-900","hover:text-blue-600","focus:outline-none",3,"click"],["class","text-xs text-gray-400 ml-2",4,"ngIf"],[1,"delete-button","p-2","!text-red-500","hover:!text-red-600","focus:outline-none","transition-opacity",3,"click"],[1,"fa","fa-trash"],[1,"text-xs","text-gray-400","ml-2"],[4,"ngIf"],[1,"z-20",3,"onButtonClickEvent","iconClass","buttonName"],[1,"text-center","py-8","text-gray-500"]],template:function(r,n){if(r&1){let u=b();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),d(4,"app-custom-header-link",5),i(),t(5,"div",6)(6,"div",7)(7,"div",8)(8,"input",9),E("ngModelChange",function(y){return h(u),M(n.newTodoText,y)||(n.newTodoText=y),x(y)}),_("keyup",function(y){return h(u),x(n.onKeyPress(y))}),i(),t(9,"app-custom-button",10),_("onButtonClickEvent",function(){return h(u),x(n.addTodo())}),i()(),t(10,"div",11)(11,"div",12)(12,"span",13),l(13),i(),t(14,"div",14),c(15,Yi,1,2,"button",15),i()(),t(16,"div",16)(17,"div",13),l(18),i(),c(19,Ji,2,2,"div",17),i()()()(),t(20,"div",18)(21,"div",19,0),_("scroll",function(){return h(u),x(n.onScroll())}),t(23,"div",20),c(24,en,15,11,"div",21),i()()(),t(25,"div",22)(26,"div"),c(27,tn,1,2,"app-custom-button",23),i(),t(28,"div"),c(29,nn,1,2,"app-custom-button",23),i()(),c(30,rn,2,0,"div",24),i()()()}r&2&&(m(4),p("headerLinkItems",n.headerLinkItems),m(4),S("ngModel",n.newTodoText),m(),p("buttonName","Add")("iconClass","fa fa-plus"),m(4),W("",n.newTodoText.length,"/",n.maxTextLength),m(2),p("ngForOf",n.colors),m(3),Pt(" Overall: ",n.getCompletionStats().completed,"/",n.getCompletionStats().total," (",n.getCompletionStats().percentage,"%) "),m(),p("ngIf",n.todos.length>0),m(5),p("ngForOf",n.getGroupedTodos()),m(3),p("ngIf",n.canScrollLeft),m(2),p("ngIf",n.canScrollRight),m(),p("ngIf",n.todos.length===0))},dependencies:[P,F,I,kt,N,z,U,Rt,$,X,A,D,ae,ye],styles:['input[type=checkbox][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:1.25rem;height:1.25rem;border:2px solid #d1d5db;border-radius:.25rem;outline:none;cursor:pointer;position:relative;transition:all .2s ease-in-out}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#3b82f6;border-color:#3b82f6}input[type=checkbox][_ngcontent-%COMP%]:checked:after{content:"";position:absolute;left:6px;top:2px;width:4px;height:8px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.todo-item[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,background-color .2s ease-in-out}.todo-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background-color:#f0f0f0}.flex-1[_ngcontent-%COMP%]{min-height:0}.flex-wrap[_ngcontent-%COMP%]{align-content:start}#scrollContainer[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px;background:#f3f4f6}#scrollContainer[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e5e7eb;border-radius:10px}#scrollContainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#3b82f6;border-radius:10px}#scrollContainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1d4ed8}.delete-button[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s ease-in-out}.todo-item[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{opacity:1}#scrollContainer[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}',".todo-item[_ngcontent-%COMP%]:hover   .hover-info[_ngcontent-%COMP%]{opacity:1}"],data:{animation:[Nt("fadeInOut",[bt(":enter",[Re({opacity:0,transform:"translateY(10px)"}),vt("300ms ease-out",Re({opacity:1,transform:"translateY(0)"}))]),bt(":leave",[vt("300ms ease-in",Re({opacity:0,transform:"translateY(-10px)"}))])])]},changeDetection:0});let a=s;return a})();function on(a,s){a&1&&(t(0,"span",17),l(1," | "),i())}function ln(a,s){if(a&1&&(t(0,"span"),l(1),i()),a&2){let o=f();m(),C("Experiences: ",o.savedItinerary.trip.experiences.join(", "))}}function sn(a,s){a&1&&(t(0,"span",17),l(1," | "),i())}function mn(a,s){if(a&1&&(t(0,"span"),l(1),V(2,"number"),i()),a&2){let o=f();m(),C("Budget: ",Y(2,1,o.savedItinerary.trip.budget,"1.0-0")," INR")}}function pn(a,s){a&1&&(t(0,"div",18)(1,"div",19)(2,"span",20),l(3,"Preparing image for download..."),i(),Le(),t(4,"svg",21),d(5,"circle",22)(6,"path",23),i()()())}var ui=(()=>{let s=class s{constructor(){this.delete=new q,this.downloading=!1}get tripLabel(){return`${this.savedItinerary.trip.startLocation} \u2192 ${this.savedItinerary.trip.destination}`}get createdAtFormatted(){return this.savedItinerary.createdAt?new Date(this.savedItinerary.createdAt).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}downloadItinerary(){return se(this,null,function*(){this.downloading=!0;try{yield this.downloadMarkdownFile(this.savedItinerary.itinerary,this.savedItinerary.trip.destination)}finally{this.downloading=!1}})}downloadMarkdownFile(e,r="document.png"){return se(this,null,function*(){if(typeof window>"u"||typeof document>"u")return;let n=(yield import("./chunk-K4DMDF77.js")).default,u=yield ni(e),g=document.createElement("div");g.style.position="absolute",g.style.left="-9999px",g.style.top="0",g.style.width="794px",g.style.padding="24px",g.style.background="white",g.style.fontFamily="Arial, sans-serif",g.style.fontSize="14px",g.style.color="#1e293b",g.innerHTML=u;let y=document.createElement("style");y.textContent=`
      h1, h2, h3 {
        font-size: 1.125rem;
        font-weight: bold;
        color: #334155;
        margin-top: 1rem;
        margin-bottom: 0.5rem;
      }
      ul {
        list-style: disc;
        padding-left: 1.5rem;
        margin-bottom: 1rem;
      }
      li {
        margin-bottom: 0.25rem;
      }
    `,g.appendChild(y),document.body.appendChild(g),yield new Promise(Q=>setTimeout(Q,300));let K=(yield n(g,{backgroundColor:"#fff"})).toDataURL("image/png"),R=document.createElement("a");R.href=K,R.download=r.endsWith(".png")?r:r+".png",document.body.appendChild(R),R.click(),document.body.removeChild(R),document.body.removeChild(g)})}};s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=T({type:s,selectors:[["app-itinerary-view"]],inputs:{savedItinerary:"savedItinerary"},outputs:{delete:"delete"},decls:26,vars:14,consts:[[1,"py-2","sm:py-4","bg-white"],[1,"flex","flex-col","p-3","sm:p-4","rounded-2xl","bg-gradient-to-br","from-primary-50","via-white"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","mb-2","gap-2","sm:gap-0"],[1,"flex","flex-col","sm:flex-row","sm:items-center"],[1,"font-semibold","text-primary-800","text-sm","sm:text-base"],[1,"flex","flex-wrap","items-center","gap-2","mt-1","sm:mt-0","sm:ml-2"],[1,"text-xs","text-primary-400"],[1,"text-xs","text-primary-500"],[1,"flex","flex-col","sm:flex-row","items-stretch","sm:items-center","gap-2"],[1,"w-full","sm:w-auto",3,"onButtonClickEvent","buttonName","iconClass"],[1,"mb-2","text-xs","sm:text-sm","text-primary-600"],[1,"flex","flex-col","sm:flex-row","sm:items-center","gap-1","sm:gap-2"],["class","hidden sm:inline",4,"ngIf"],[4,"ngIf"],[1,"flex","mt-3","sm:mt-4","!h-[calc(100vh-21.5rem)]","overflow-y-auto","bg-gradient-to-br","from-primary-50","via-white","p-3","sm:p-4","rounded-2xl","text-sm","sm:text-base"],[3,"data"],["class","fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-60",4,"ngIf"],[1,"hidden","sm:inline"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-white","bg-opacity-60"],[1,"bg-primary-50","rounded-lg","shadow-lg","p-4","sm:p-8","flex","flex-col","items-center","mx-4","sm:mx-0"],[1,"text-lg","sm:text-2xl","mb-2","text-primary-800","text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-6","w-6","sm:h-8","sm:w-8","text-primary-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v8z",1,"opacity-75"]],template:function(r,n){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",3)(5,"span",4),l(6),i(),t(7,"div",5)(8,"span",6),l(9),i(),t(10,"span",7),l(11),i()()()(),t(12,"div",8)(13,"app-custom-button",9),_("onButtonClickEvent",function(){return n.downloadItinerary()}),i(),t(14,"app-custom-button",9),_("onButtonClickEvent",function(){return n.delete.emit(n.savedItinerary.id)}),i()()(),t(15,"div",10)(16,"div",11)(17,"span"),l(18),i(),c(19,on,2,0,"span",12)(20,ln,2,1,"span",13)(21,sn,2,0,"span",12)(22,mn,3,4,"span",13),i()()(),t(23,"div",14),d(24,"markdown",15),i()(),c(25,pn,7,0,"div",16)),r&2&&(m(6),v(n.tripLabel),m(3),C("(",n.savedItinerary.trip.days," days)"),m(2),C("Created: ",n.createdAtFormatted),m(2),p("buttonName","Download Itinerary")("iconClass","fa fa-download"),m(),p("buttonName","Delete")("iconClass","fa fa-trash-alt"),m(4),C("Mode: ",n.savedItinerary.trip.travelMode),m(),p("ngIf",n.savedItinerary.trip.experiences==null?null:n.savedItinerary.trip.experiences.length),m(),p("ngIf",n.savedItinerary.trip.experiences==null?null:n.savedItinerary.trip.experiences.length),m(),p("ngIf",n.savedItinerary.trip.budget),m(),p("ngIf",n.savedItinerary.trip.budget),m(2),p("data",n.savedItinerary.itinerary),m(),p("ngIf",n.downloading))},dependencies:[P,I,A,D,mt,st,ae],styles:["[_nghost-%COMP%]     markdown h1, [_nghost-%COMP%]     markdown h2, [_nghost-%COMP%]     markdown h3{margin-top:.75rem;margin-bottom:.5rem;font-size:1rem;line-height:1.5rem;font-weight:700;--tw-text-opacity: 1;color:color-mix(in srgb,var(--colors-primary-700),transparent calc(100% - 100% * var(--tw-text-opacity)))}@media (min-width: 640px){[_nghost-%COMP%]     markdown h1, [_nghost-%COMP%]     markdown h2, [_nghost-%COMP%]     markdown h3{margin-top:1rem;font-size:1.125rem;line-height:1.75rem}}[_nghost-%COMP%]     markdown ul{margin-bottom:.75rem;list-style-type:disc;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]     markdown ul{margin-bottom:1rem;padding-left:1.5rem}}[_nghost-%COMP%]     markdown li{margin-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@media (min-width: 640px){[_nghost-%COMP%]     markdown li{font-size:1rem;line-height:1.5rem}}[_nghost-%COMP%]     markdown p{margin-bottom:.5rem;font-size:.875rem;line-height:1.25rem}@media (min-width: 640px){[_nghost-%COMP%]     markdown p{margin-bottom:.75rem;font-size:1rem;line-height:1.5rem}}[_nghost-%COMP%]     markdown a{text-decoration:underline;text-underline-offset:3px;text-decoration-thickness:1px}[_nghost-%COMP%]     markdown a:hover, [_nghost-%COMP%]     markdown a:focus{--tw-text-opacity: 1;color:color-mix(in srgb,var(--colors-primary-500),transparent calc(100% - 100% * var(--tw-text-opacity)))}@media (max-width: 640px){[_nghost-%COMP%]     markdown{font-size:.875rem;line-height:1.25rem}[_nghost-%COMP%]     markdown h1, [_nghost-%COMP%]     markdown h2, [_nghost-%COMP%]     markdown h3{font-size:1rem;line-height:1.5rem}}"]});let a=s;return a})();function cn(a,s){a&1&&(t(0,"span",67),d(1,"i",68),l(2," Plan a Trip"),i())}function un(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function gn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function fn(a,s){if(a&1&&(t(0,"mat-option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),C(" ",o," ")}}function hn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function xn(a,s){if(a&1&&(t(0,"mat-option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),C(" ",o," ")}}function yn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function _n(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function vn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function bn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Cn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function wn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Sn(a,s){a&1&&(t(0,"span",72),l(1,"More Trip Preferences "),i())}function Mn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function En(a,s){if(a&1){let o=b();t(0,"label",91)(1,"input",92,3),_("change",function(r){let n=h(o).$implicit,u=f(2);return x(u.onCheckboxChange("activityTypes",n.value,r.target.checked))}),i(),l(3),i()}if(a&2){let o=s.$implicit,e=f(2);m(),p("name",xe("activityTypes_",o.value))("checked",e.trip.activityTypes.includes(o.value)),m(2),C(" ",o.label," ")}}function Tn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Pn(a,s){if(a&1){let o=b();t(0,"label",91)(1,"input",92,3),_("change",function(r){let n=h(o).$implicit,u=f(2);return x(u.onCheckboxChange("tripType",n.value,r.target.checked))}),i(),l(3),i()}if(a&2){let o=s.$implicit,e=f(2);m(),p("name",xe("tripType_",o.value))("checked",e.trip.tripType.includes(o.value)),m(2),C(" ",o.label," ")}}function In(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function kn(a,s){if(a&1){let o=b();t(0,"label",91)(1,"input",92,3),_("change",function(r){let n=h(o).$implicit,u=f(2);return x(u.onCheckboxChange("naturePreference",n.value,r.target.checked))}),i(),l(3),i()}if(a&2){let o=s.$implicit,e=f(2);m(),p("name",xe("naturePreference_",o.value))("checked",e.trip.naturePreference.includes(o.value)),m(2),C(" ",o.label," ")}}function On(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function An(a,s){if(a&1){let o=b();t(0,"label",91)(1,"input",92,3),_("change",function(r){let n=h(o).$implicit,u=f(2);return x(u.onCheckboxChange("culturalInterest",n.value,r.target.checked))}),i(),l(3),i()}if(a&2){let o=s.$implicit,e=f(2);m(),p("name",xe("culturalInterest_",o.value))("checked",e.trip.culturalInterest.includes(o.value)),m(2),C(" ",o.label," ")}}function Fn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Ln(a,s){if(a&1){let o=b();t(0,"label",91)(1,"input",92,3),_("change",function(r){let n=h(o).$implicit,u=f(2);return x(u.onCheckboxChange("shoppingInterest",n.value,r.target.checked))}),i(),l(3),i()}if(a&2){let o=s.$implicit,e=f(2);m(),p("name",xe("shoppingInterest_",o.value))("checked",e.trip.shoppingInterest.includes(o.value)),m(2),C(" ",o.label," ")}}function Dn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Vn(a,s){if(a&1&&(t(0,"option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o.value),m(),v(o.label)}}function Nn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function jn(a,s){if(a&1&&(t(0,"option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o.value),m(),v(o.label)}}function Wn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Bn(a,s){if(a&1&&(t(0,"option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o.value),m(),v(o.label)}}function Kn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Rn(a,s){if(a&1&&(t(0,"option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o.value),m(),v(o.label)}}function Hn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function zn(a,s){if(a&1&&(t(0,"option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o.value),m(),v(o.label)}}function Un(a,s){if(a&1){let o=b();t(0,"input",93),E("ngModelChange",function(r){h(o);let n=f(2);return M(n.trip.languageComfortOther,r)||(n.trip.languageComfortOther=r),x(r)}),i()}if(a&2){let o=f(2);S("ngModel",o.trip.languageComfortOther)}}function $n(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Gn(a,s){if(a&1&&(t(0,"option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o.value),m(),v(o.label)}}function qn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Yn(a,s){if(a&1&&(t(0,"option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o.value),m(),v(o.label)}}function Jn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Qn(a,s){if(a&1&&(t(0,"option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o.value),m(),v(o.label)}}function Zn(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function Xn(a,s){if(a&1&&(t(0,"option",71),l(1),i()),a&2){let o=s.$implicit;p("value",o.value),m(),v(o.label)}}function er(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function tr(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function ir(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function nr(a,s){a&1&&(t(0,"span",69),d(1,"i",70),i())}function rr(a,s){if(a&1){let o=b();ge(0),t(1,"div")(2,"label",29),l(3," Activity Types "),c(4,Mn,2,0,"span",17),i(),t(5,"div",73),c(6,En,4,4,"label",74),i()(),t(7,"div")(8,"label",29),l(9," Trip Type "),c(10,Tn,2,0,"span",17),i(),t(11,"div",73),c(12,Pn,4,4,"label",74),i()(),t(13,"div")(14,"label",29),l(15," Nature Preference "),c(16,In,2,0,"span",17),i(),t(17,"div",73),c(18,kn,4,4,"label",74),i()(),t(19,"div")(20,"label",29),l(21," Cultural Interest "),c(22,On,2,0,"span",17),i(),t(23,"div",73),c(24,An,4,4,"label",74),i()(),t(25,"div")(26,"label",29),l(27," Shopping Interest "),c(28,Fn,2,0,"span",17),i(),t(29,"div",73),c(30,Ln,4,4,"label",74),i()(),t(31,"div",75)(32,"div")(33,"label",29),l(34," Nightlife Preference "),c(35,Dn,2,0,"span",17),i(),t(36,"select",76),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.nightlifePreference,r)||(n.trip.nightlifePreference=r),x(r)}),t(37,"option",38),l(38,"Select..."),i(),c(39,Vn,2,2,"option",32),i()(),t(40,"div")(41,"label",29),l(42," Diet Preference "),c(43,Nn,2,0,"span",17),i(),t(44,"select",77),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.dietPreference,r)||(n.trip.dietPreference=r),x(r)}),t(45,"option",38),l(46,"Select..."),i(),c(47,jn,2,2,"option",32),i()(),t(48,"div")(49,"label",29),l(50," Fitness Level "),c(51,Wn,2,0,"span",17),i(),t(52,"select",78),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.fitnessLevel,r)||(n.trip.fitnessLevel=r),x(r)}),t(53,"option",38),l(54,"Select..."),i(),c(55,Bn,2,2,"option",32),i()(),t(56,"div")(57,"label",29),l(58," Travel Companion Type "),c(59,Kn,2,0,"span",17),i(),t(60,"select",79),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.travelCompanionType,r)||(n.trip.travelCompanionType=r),x(r)}),t(61,"option",38),l(62,"Select..."),i(),c(63,Rn,2,2,"option",32),i()(),t(64,"div")(65,"label",29),l(66," Language Comfort "),c(67,Hn,2,0,"span",17),i(),t(68,"select",80),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.languageComfort,r)||(n.trip.languageComfort=r),x(r)}),t(69,"option",38),l(70,"Select..."),i(),c(71,zn,2,2,"option",32),i(),c(72,Un,1,1,"input",81),i(),t(73,"div")(74,"label",29),l(75," Pace of Travel "),c(76,$n,2,0,"span",17),i(),t(77,"select",82),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.paceOfTravel,r)||(n.trip.paceOfTravel=r),x(r)}),t(78,"option",38),l(79,"Select..."),i(),c(80,Gn,2,2,"option",32),i()(),t(81,"div")(82,"label",29),l(83," Accommodation Type "),c(84,qn,2,0,"span",17),i(),t(85,"select",83),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.accommodationType,r)||(n.trip.accommodationType=r),x(r)}),t(86,"option",38),l(87,"Select..."),i(),c(88,Yn,2,2,"option",32),i()(),t(89,"div")(90,"label",29),l(91," Connectivity Preference "),c(92,Jn,2,0,"span",17),i(),t(93,"select",84),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.connectivityPreference,r)||(n.trip.connectivityPreference=r),x(r)}),t(94,"option",38),l(95,"Select..."),i(),c(96,Qn,2,2,"option",32),i()(),t(97,"div")(98,"label",29),l(99," Weather Preference "),c(100,Zn,2,0,"span",17),i(),t(101,"select",85),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.weatherPreference,r)||(n.trip.weatherPreference=r),x(r)}),t(102,"option",38),l(103,"Select..."),i(),c(104,Xn,2,2,"option",32),i()()(),t(105,"div",86)(106,"div")(107,"label",29),l(108," Places already visited (to avoid repetition) "),c(109,er,2,0,"span",17),i(),t(110,"textarea",87),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.placesVisited,r)||(n.trip.placesVisited=r),x(r)}),i()(),t(111,"div")(112,"label",29),l(113," Must-visit or bucket list places "),c(114,tr,2,0,"span",17),i(),t(115,"textarea",88),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.mustVisit,r)||(n.trip.mustVisit=r),x(r)}),i()(),t(116,"div")(117,"label",29),l(118," Event/Occasion "),c(119,ir,2,0,"span",17),i(),t(120,"input",89),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.eventOccasion,r)||(n.trip.eventOccasion=r),x(r)}),i()(),t(121,"div")(122,"label",29),l(123," Additional Comments "),c(124,nr,2,0,"span",17),i(),t(125,"textarea",90),E("ngModelChange",function(r){h(o);let n=f();return M(n.trip.additionalComments,r)||(n.trip.additionalComments=r),x(r)}),i()()(),fe()}if(a&2){let o=f();m(4),p("ngIf",o.isFieldFilled(o.trip.activityTypes)),m(2),p("ngForOf",o.activityTypesOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.tripType)),m(2),p("ngForOf",o.tripTypeOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.naturePreference)),m(2),p("ngForOf",o.naturePreferenceOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.culturalInterest)),m(2),p("ngForOf",o.culturalInterestOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.shoppingInterest)),m(2),p("ngForOf",o.shoppingInterestOptions),m(5),p("ngIf",o.isFieldFilled(o.trip.nightlifePreference)),m(),S("ngModel",o.trip.nightlifePreference),m(3),p("ngForOf",o.nightlifePreferenceOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.dietPreference)),m(),S("ngModel",o.trip.dietPreference),m(3),p("ngForOf",o.dietPreferenceOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.fitnessLevel)),m(),S("ngModel",o.trip.fitnessLevel),m(3),p("ngForOf",o.fitnessLevelOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.travelCompanionType)),m(),S("ngModel",o.trip.travelCompanionType),m(3),p("ngForOf",o.travelCompanionTypeOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.languageComfort)||o.isFieldFilled(o.trip.languageComfortOther)),m(),S("ngModel",o.trip.languageComfort),m(3),p("ngForOf",o.languageComfortOptions),m(),p("ngIf",o.trip.languageComfort==="other"),m(4),p("ngIf",o.isFieldFilled(o.trip.paceOfTravel)),m(),S("ngModel",o.trip.paceOfTravel),m(3),p("ngForOf",o.paceOfTravelOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.accommodationType)),m(),S("ngModel",o.trip.accommodationType),m(3),p("ngForOf",o.accommodationTypeOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.connectivityPreference)),m(),S("ngModel",o.trip.connectivityPreference),m(3),p("ngForOf",o.connectivityPreferenceOptions),m(4),p("ngIf",o.isFieldFilled(o.trip.weatherPreference)),m(),S("ngModel",o.trip.weatherPreference),m(3),p("ngForOf",o.weatherPreferenceOptions),m(5),p("ngIf",o.isFieldFilled(o.trip.placesVisited)),m(),S("ngModel",o.trip.placesVisited),m(4),p("ngIf",o.isFieldFilled(o.trip.mustVisit)),m(),S("ngModel",o.trip.mustVisit),m(4),p("ngIf",o.isFieldFilled(o.trip.eventOccasion)),m(),S("ngModel",o.trip.eventOccasion),m(4),p("ngIf",o.isFieldFilled(o.trip.additionalComments)),m(),S("ngModel",o.trip.additionalComments)}}function ar(a,s){if(a&1&&(t(0,"div",94)(1,"b"),l(2,"Error:"),i(),l(3),d(4,"br"),t(5,"span",95),l(6,"Check your API key, network connection, or try again later."),i()()),a&2){let o=f();m(3),C(" ",o.error)}}function or(a,s){a&1&&(t(0,"div",96),l(1,"Generating itinerary..."),i())}function lr(a,s){if(a&1&&(t(0,"span",99),d(1,"i",100),t(2,"span",101),l(3),i(),t(4,"span",102),l(5),i()()),a&2){let o=f(),e=o.$implicit,r=o.index;m(3),W("",r+1,". ",e.trip.startLocation+" \u2192 "+e.trip.destination),m(2),W("",r+1,". ",e.trip.destination)}}function sr(a,s){if(a&1){let o=b();t(0,"mat-tab"),c(1,lr,6,4,"ng-template",9),t(2,"div",97)(3,"app-itinerary-view",98),_("delete",function(){let r=h(o).$implicit,n=f();return x(n.removeItinerary(r.id))}),i()()()}if(a&2){let o=s.$implicit;m(3),p("savedItinerary",o)}}function mr(a,s){a&1&&(t(0,"div",103)(1,"div",104)(2,"span",105),l(3,"Preparing itinerary for you..."),i(),Le(),t(4,"svg",106),d(5,"circle",107)(6,"path",108),i()()())}function pr(a,s){if(a&1){let o=b();t(0,"app-modal-holder",109),_("onCancel",function(){h(o);let r=f();return x(r.closeApiKeyInstructionsModal())}),t(1,"div",110)(2,"div",111)(3,"span"),l(4,"\u{1F511}"),i(),t(5,"span"),l(6,"How to Get a ChatGPT API Key"),i()(),t(7,"div",112),l(8,"\u2705 Step 1: Create/Open an OpenAI Account"),i(),t(9,"div"),l(10," Go to "),t(11,"a",113),l(12,"https://platform.openai.com"),i(),d(13,"br"),l(14," Sign up or log in with your existing OpenAI account "),i(),t(15,"div",112),l(16,"\u2705 Step 2: Visit the API Keys Section"),i(),t(17,"div"),l(18," After logging in, go to: "),t(19,"a",114),l(20,"https://platform.openai.com/account/api-keys"),i()(),t(21,"div",112),l(22,"\u2705 Step 3: Create a New Secret Key"),i(),t(23,"div"),l(24,' Click "Create new secret key"'),d(25,"br"),l(26,' Give it a name (e.g., "Trip Planner App")'),d(27,"br"),l(28," Copy the key shown \u2014 you won't be able to see it again "),i(),t(29,"div",115),l(30,"\u26A0\uFE0F "),t(31,"span"),l(32,"Keep this key private \u2014 don't share it publicly"),i()(),t(33,"div",116),l(34,"\u{1F4B0} Pricing Note"),i(),t(35,"div"),l(36," OpenAI's API is pay-as-you-go"),d(37,"br"),l(38," New accounts often get free credits (check "),t(39,"a",117),l(40,"usage"),i(),l(41,")"),d(42,"br"),l(43," You'll be charged based on: "),t(44,"ul",118)(45,"li"),l(46,"The model you use ("),t(47,"b"),l(48,"gpt-3.5-turbo"),i(),l(49," is cheap; "),t(50,"b"),l(51,"gpt-4"),i(),l(52," is more expensive)"),i(),t(53,"li"),l(54,"The number of tokens (words) in each request/response"),i()(),l(55," More info here: "),t(56,"a",119),l(57,"https://openai.com/pricing"),i()()()()}a&2&&p("headerText","How to Get a ChatGPT API Key")}var dt=(()=>{let s=class s{toggleMorePreferences(){this.showMorePreferences=!this.showMorePreferences}openApiKeyInstructionsModal(){this.showApiKeyInstructionsModal=!0}closeApiKeyInstructionsModal(){this.showApiKeyInstructionsModal=!1}resetTripForm(){this.trip={startLocation:"",destination:"",days:1,travelMode:"",experiences:[],budget:void 0,numberOfTravellers:1,startDate:"",tripType:[],naturePreference:[],culturalInterest:[],activityTypes:[],shoppingInterest:[],nightlifePreference:"",dietPreference:"",fitnessLevel:"",travelCompanionType:"",languageComfort:"",languageComfortOther:"",paceOfTravel:"",placesVisited:"",mustVisit:"",accommodationType:"",eventOccasion:"",connectivityPreference:"",weatherPreference:"",additionalComments:""},this.startLocationControl.setValue(""),this.destinationControl.setValue(""),this.formattedBudget="",this.showMorePreferences=!1}isStartLocationValid(){return!!(this.startLocationControl.value&&this.startLocationControl.value.trim().length>0)}isDestinationValid(){return!!(this.destinationControl.value&&this.destinationControl.value.trim().length>0)}isDaysValid(){return!!(this.trip.days&&this.trip.days>0)}isTravellersValid(){return!!(this.trip.numberOfTravellers&&this.trip.numberOfTravellers>0)}isApiKeyValid(){return!!(this.apiKey&&this.apiKey.trim().length>0)}isFieldFilled(e){return Array.isArray(e)?e.length>0:typeof e=="string"?e.trim().length>0:typeof e=="number"?!isNaN(e)&&e!==null&&e!==void 0&&e!==0:!!e}onCheckboxChange(e,r,n){if(!Array.isArray(this.trip[e]))return;let u=this.trip[e];if(n)u.includes(r)||u.push(r);else{let g=u.indexOf(r);g>-1&&u.splice(g,1)}}constructor(e,r){if(this.http=e,this.decimalPipe=r,this.headerLinkItems=[{name:"All Projects",isActive:!1,routeLink:"/home/projects"},{name:"Trip Planner",isActive:!0}],this.trip={startLocation:"",destination:"",days:1,travelMode:"",experiences:[],budget:void 0,numberOfTravellers:1,startDate:"",tripType:[],naturePreference:[],culturalInterest:[],activityTypes:[],shoppingInterest:[],nightlifePreference:"",dietPreference:"",fitnessLevel:"",travelCompanionType:"",languageComfort:"",languageComfortOther:"",paceOfTravel:"",placesVisited:"",mustVisit:"",accommodationType:"",eventOccasion:"",connectivityPreference:"",weatherPreference:"",additionalComments:""},this.apiKey="",this.loading=!1,this.error=null,this.itinerary=null,this.saveApiKey=!1,this.formattedBudget="",this.showApiKeyInstructionsModal=!1,this.startLocationControl=new Ie(""),this.destinationControl=new Ie(""),this.filteredStartLocations=ee([]),this.filteredDestinations=ee([]),this.experienceOptions=[{label:"Adventure",value:"adventure"},{label:"Relaxation",value:"relaxation"},{label:"Culture & Heritage",value:"culture_heritage"},{label:"Nature & Scenery",value:"nature"},{label:"Food & Culinary",value:"food"},{label:"Luxury & Wellness",value:"luxury_wellness"},{label:"Spiritual & Pilgrimage",value:"spiritual"},{label:"Wildlife & Safari",value:"wildlife"},{label:"Shopping",value:"shopping"},{label:"Romantic & Honeymoon",value:"romantic"},{label:"Water Activities",value:"water_activities"},{label:"Mountains & Trekking",value:"mountains_trekking"},{label:"Offbeat & Hidden Gems",value:"offbeat"},{label:"Festivals & Events",value:"festivals"},{label:"Photography",value:"photography"},{label:"Budget Travel",value:"budget_travel"},{label:"Road Trips",value:"road_trip"},{label:"Nightlife & Entertainment",value:"nightlife"},{label:"Family-friendly",value:"family_friendly"},{label:"Solo Travel",value:"solo_travel"},{label:"Local Experiences",value:"local_experiences"}],this.tripTypeOptions=[{label:"Relaxation",value:"relaxation"},{label:"Adventure",value:"adventure"},{label:"Honeymoon",value:"honeymoon"},{label:"Backpacking",value:"backpacking"},{label:"Luxury",value:"luxury"},{label:"Family Vacation",value:"family"},{label:"Solo Travel",value:"solo"},{label:"Friends Getaway",value:"friends"},{label:"Workation",value:"workation"},{label:"Spiritual Retreat",value:"spiritual_retreat"},{label:"Road Trip",value:"road_trip"},{label:"Cultural Exploration",value:"cultural"},{label:"Wellness Retreat",value:"wellness"},{label:"Eco-Tourism",value:"eco_tourism"},{label:"Cruise Trip",value:"cruise"},{label:"Weekend Getaway",value:"weekend_getaway"},{label:"Festival or Event-based Trip",value:"festival_event"},{label:"Photography Tour",value:"photography_tour"}],this.naturePreferenceOptions=[{label:"Hills & Mountains",value:"hills_mountains"},{label:"Beaches & Coastlines",value:"beaches"},{label:"Forests & Jungles",value:"forest"},{label:"Deserts & Dunes",value:"desert"},{label:"Lakes & Rivers",value:"lakes_rivers"},{label:"Waterfalls",value:"waterfalls"},{label:"Caves & Rock Formations",value:"caves_rocks"},{label:"Volcanoes & Geothermal Areas",value:"volcanoes"},{label:"Valleys & Meadows",value:"valleys_meadows"},{label:"Islands & Archipelagos",value:"islands"},{label:"Snowy Landscapes",value:"snow"},{label:"Countryside & Farmlands",value:"countryside"}],this.culturalInterestOptions=[{label:"Temples & Religious Sites",value:"temples"},{label:"Local Markets & Bazaars",value:"local_markets"},{label:"Museums & Art Galleries",value:"museums"},{label:"Historical Monuments & Forts",value:"historical_sites"},{label:"Traditional Villages & Tribes",value:"traditional_villages"},{label:"Architecture & Heritage Walks",value:"architecture"},{label:"Cultural Performances (Dance, Music, Theatre)",value:"cultural_performances"},{label:"UNESCO World Heritage Sites",value:"unesco_sites"},{label:"Festivals & Local Celebrations",value:"festivals"},{label:"Colonial History & Sites",value:"colonial_history"},{label:"Handicrafts & Artisan Workshops",value:"handicrafts"},{label:"Spiritual Experiences & Rituals",value:"spiritual_culture"},{label:"Local Cuisine & Food Traditions",value:"food_culture"},{label:"Language & Literature",value:"language_literature"}],this.activityTypesOptions=[{label:"Trekking & Hiking",value:"trekking"},{label:"Spa & Wellness",value:"spa"},{label:"Local Food Exploration",value:"local_food"},{label:"Wildlife Safari / Bird Watching",value:"wildlife"},{label:"Boating / Canoeing",value:"boating"},{label:"Scuba Diving / Snorkeling",value:"diving"},{label:"Paragliding / Zip-lining",value:"adventure_sports"},{label:"Cycling / Biking Tours",value:"cycling"},{label:"Camping / Stargazing",value:"camping"},{label:"Hot Air Ballooning",value:"hot_air_balloon"},{label:"Cultural Shows / Folk Performances",value:"cultural_shows"},{label:"Cooking Classes / Food Trails",value:"cooking"},{label:"Temple / Heritage Walks",value:"heritage_walk"},{label:"Shopping Tours / Street Markets",value:"shopping"},{label:"Photography Tours",value:"photography"},{label:"Horse / Camel Riding",value:"animal_rides"},{label:"Ayurveda / Healing Retreats",value:"healing"},{label:"Zip Boat / Shikara Rides",value:"shikara"},{label:"Theme Parks & Entertainment Zones",value:"theme_park"}],this.shoppingInterestOptions=[{label:"Handicrafts & Local Art",value:"handicrafts"},{label:"Fashion & Apparel",value:"fashion"},{label:"Souvenirs & Gifts",value:"souvenirs"},{label:"Jewelry & Accessories",value:"jewelry"},{label:"Street Markets & Bazaars",value:"street_markets"},{label:"Luxury & Designer Brands",value:"luxury_brands"},{label:"Home Decor & Antiques",value:"home_decor"},{label:"Spices & Local Ingredients",value:"spices"},{label:"Tea, Coffee & Beverages",value:"beverages"},{label:"Books & Stationery",value:"books"},{label:"Cosmetics & Skincare",value:"cosmetics"},{label:"Electronic Gadgets & Accessories",value:"electronics"},{label:"Flea Markets & Vintage Finds",value:"flea_market"},{label:"Cultural Collectibles (Masks, Puppets, Textiles)",value:"cultural_collectibles"}],this.nightlifePreferenceOptions=[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"Doesn't Matter",value:"doesnt_matter"}],this.dietPreferenceOptions=[{label:"Veg",value:"veg"},{label:"Vegan",value:"vegan"},{label:"Jain",value:"jain"},{label:"Eggetarian",value:"eggetarian"},{label:"Non-Veg",value:"non_veg"}],this.fitnessLevelOptions=[{label:"Light walking",value:"light_walking"},{label:"Moderate",value:"moderate"},{label:"Adventurous",value:"adventurous"}],this.travelCompanionTypeOptions=[{label:"Solo",value:"solo"},{label:"Couple",value:"couple"},{label:"Family",value:"family"},{label:"Friends",value:"friends"}],this.languageComfortOptions=[{label:"Hindi",value:"hindi"},{label:"English",value:"english"},{label:"Regional Indian Languages (e.g., Tamil, Bengali, Kannada)",value:"regional_indian"},{label:"French",value:"french"},{label:"Spanish",value:"spanish"},{label:"German",value:"german"},{label:"Mandarin / Chinese",value:"chinese"},{label:"Arabic",value:"arabic"},{label:"Japanese",value:"japanese"},{label:"Other",value:"other"}],this.paceOfTravelOptions=[{label:"Super Chill (Lots of free time, minimal activities)",value:"super_chill"},{label:"Chill (Slow pace with some light activities)",value:"chill"},{label:"Balanced (Sightseeing + downtime)",value:"balanced"},{label:"Active (Busy days with multiple experiences)",value:"active"},{label:"Packed (Maximize every day with back-to-back plans)",value:"packed"}],this.accommodationTypeOptions=[{label:"Budget Hotel",value:"budget_hotel"},{label:"Mid-range Hotel",value:"midrange_hotel"},{label:"Luxury Hotel / 5-Star",value:"luxury_hotel"},{label:"Resort",value:"resort"},{label:"Boutique Stay / Heritage Property",value:"boutique"},{label:"Airbnb / Vacation Rental",value:"airbnb"},{label:"Hostel / Dormitory",value:"hostel"},{label:"Homestay / Local Family Stay",value:"homestay"},{label:"Treehouse / Eco Stay",value:"eco_stay"},{label:"Camping / Glamping",value:"camping"},{label:"Wellness Retreat / Ashram",value:"retreat"}],this.connectivityPreferenceOptions=[{label:"Completely Remote / No Signal Preferred",value:"remote"},{label:"Basic 4G Connectivity Required",value:"4g_needed"},{label:"High-Speed Wi-Fi (for Work / Streaming)",value:"high_speed_wifi"},{label:"Co-working Friendly (Digital Nomad Setup)",value:"coworking_friendly"},{label:"Doesn't Matter",value:"doesnt_matter"}],this.weatherPreferenceOptions=[{label:"Mild / Pleasant Weather",value:"mild"},{label:"Cool / Cold Weather",value:"cold"},{label:"Warm & Sunny",value:"warm"},{label:"Avoid Rainy Season",value:"avoid_rain"},{label:"Snowy / Winter Wonderland",value:"snow"},{label:"Tropical Climate",value:"tropical"},{label:"Doesn\u2019t Matter",value:"doesnt_matter"}],this.savedItineraries=[],this.selectedTabIndex=0,this.showMorePreferences=!1,this.filteredStartLocations=this.startLocationControl.valueChanges.pipe(gt(""),Te(300),me(n=>this.searchLocations(n||""))),this.filteredDestinations=this.destinationControl.valueChanges.pipe(gt(""),Te(300),me(n=>this.searchLocations(n||""))),typeof window<"u"&&window.localStorage){let n=localStorage.getItem("openai_api_key");n&&(this.apiKey=n,this.saveApiKey=!0)}this.loadSavedItineraries()}ngOnInit(){this.trip.budget&&(this.formattedBudget=this.formatNumber(this.trip.budget))}onBudgetInput(e){let r=e.replace(/[^0-9]/g,"");this.trip.budget=r?Number(r):void 0,this.formattedBudget=this.formatNumber(this.trip.budget)}formatNumber(e){return e==null?"":this.decimalPipe.transform(e,"1.0-0")||""}searchLocations(e){return!e||e.length<2?ee([]):this.http.get(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(e)}&count=5&language=en&format=json`).pipe(Me(r=>r.results?.map(n=>[n.name,n.admin1,n.country].filter(Boolean).join(", "))||[]),Ee(()=>ee([])))}onStartLocationSelected(e){this.trip.startLocation=e}onDestinationSelected(e){this.trip.destination=e}removeApiKey(){this.apiKey="",this.saveApiKey=!1,typeof window<"u"&&window.localStorage&&localStorage.removeItem("openai_api_key")}onSubmit(){if(this.error=null,!this.isApiKeyValid()||!this.isStartLocationValid()||!this.isDestinationValid()||!this.isDaysValid()||!this.isTravellersValid()){this.error="Please fill all required fields: OpenAI API Key, Start Location, Destination, Number of Days, and Number of Travellers.",this.loading=!1;return}this.loading=!0,this.itinerary=null,this.trip.startLocation=this.startLocationControl.value||this.trip.startLocation,this.trip.destination=this.destinationControl.value||this.trip.destination,Array.isArray(this.trip.experiences)||(this.trip.experiences=this.trip.experiences?[this.trip.experiences]:[]),typeof window<"u"&&window.localStorage&&(this.saveApiKey&&this.apiKey?localStorage.setItem("openai_api_key",this.apiKey):localStorage.removeItem("openai_api_key"));let e=this.buildPrompt(),r=new At({"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}),n={model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful travel planner assistant."},{role:"user",content:e}],max_tokens:4096};this.http.post("https://api.openai.com/v1/chat/completions",n,{headers:r}).subscribe({next:u=>{this.loading=!1;let g=u.choices?.[0]?.message?.content||"No itinerary generated.";g=this.convertUsdToInr(g),this.itinerary=g,this.saveItinerary(),this.resetTripForm()},error:u=>{this.loading=!1,this.error=u.error?.error?.message||"Failed to generate itinerary. Please check your API key and try again."}})}buildPrompt(){let e=this.trip,r=Math.max(1,e.days-1),n=(g,y)=>y&&(Array.isArray(y)?y.length:y!=="N/A")?`- **${g}**: ${Array.isArray(y)?y.join(", "):y}`:"",u=(g,y)=>!y||Array.isArray(y)&&y.length===0||typeof y=="string"&&y.trim()===""?"":`- ${g}: ${Array.isArray(y)?y.join(", "):y}`;return`You are an expert travel planner.
  
  Based on the user's inputs, generate a **realistic and structured travel itinerary in Markdown**.
  
  ---
  
  ## \u{1F4CB} Trip Summary
  
  ${n("From",e.startLocation)}
  ${n("To",e.destination)}
  ${n("Start Date",e.startDate||"Not specified")}
  ${n("Duration",`${e.days} days / ${r} nights`)}
  ${n("Travellers",e.numberOfTravellers)}
  ${n("Budget",`\u20B9${e.budget??"Not specified"}`)}
  
  ---
  
  ## \u2728 Preferences
  
  ${u("Trip Type",e.tripType)}
  ${u("Nature",e.naturePreference)}
  ${u("Culture",e.culturalInterest)}
  ${u("Activities",e.activityTypes)}
  ${u("Shopping",e.shoppingInterest)}
  ${u("Diet",e.dietPreference)}
  ${u("Fitness Level",e.fitnessLevel)}
  ${u("Companion",e.travelCompanionType)}
  ${u("Language",e.languageComfort==="other"?e.languageComfortOther:e.languageComfort)}
  ${u("Travel Pace",e.paceOfTravel)}
  ${u("Accommodation",e.accommodationType)}
  ${u("Special Occasion",e.eventOccasion)}
  ${u("Connectivity",e.connectivityPreference)}
  ${u("Weather Preference",e.weatherPreference)}
  ${u("Must Visit",e.mustVisit)}
  ${u("Already Visited",e.placesVisited)}
  ${u("Notes",e.additionalComments)}
  
  ---
  
  ## \u{1F697} Travel Mode
  
  Describe the best travel option from ${e.startLocation} to ${e.destination}, with:
  - Approximate travel time
  - Preferred mode: ${e.travelMode}
  - Any tips (like permits, time to avoid, or scenic routes)
  - Alternative travel options, if applicable
  
  ---
  
  ## \u{1F3E8} Stay Options
  
  Suggest **1 or 2 well-rated stay options** in ${e.destination} based on the accommodation type (${e.accommodationType}).
  The stay should be consistent for all days.
  
  Example:
  - [Hotel ABC](https://...) \u2013 Mid-range resort with great views
  - [XYZ Homestay](https://...) \u2013 Budget stay close to the city center
  
  ---
  
  ## \u{1F37D}\uFE0F Restaurant Options
  
  Suggest 3\u20135 local restaurants based on:
  - Local cuisine
  - Dietary preference: ${e.dietPreference}
  - Unique dining experiences
  
  ---
  
  ## \u{1F3DE}\uFE0F Sightseeing Options
  
  List the top attractions and things to do in ${e.destination}.
  Include famous landmarks, cultural or nature experiences, and any **must-visit**: ${e.mustVisit||"N/A"}.
  
  ---
  
  ## \u{1F4C5} Day-wise Itinerary
  
  Each day starts with:
  
  \`\`\`
  ### Day 1: Title
  \`\`\`
  
  Then follow this format:
  - \u{1F305} Morning: Activity
  - \u{1F37D}\uFE0F Lunch at [place](https://...)
  - \u{1F307} Afternoon: Activity
  - \u{1F303} Evening: Activity or relaxation
  - \u{1F6CF}\uFE0F Return to same stay option
  
  ---
  
  ## \u{1F4B0} Cost of the Trip
  
  | Category      | Unit Cost | Quantity                            | Total Cost |
  |---------------|-----------|--------------------------------------|------------|
  | Accommodation | \u20B94,000    | ${r} nights \xD7 ${e.numberOfTravellers} people | \u20B9xx,xxx     |
  | Meals         | \u20B9600      | 3\xD7${e.days}\xD7${e.numberOfTravellers} | \u20B9xx,xxx     |
  | Transport     | \u20B9xx,xxx   | Round-trip \xD7 ${e.numberOfTravellers} | \u20B9xx,xxx     |
  | Activities    | \u20B9x,xxx    | Entry fees & local experiences       | \u20B9xx,xxx     |
  | **Total**     |           |                                      | \u20B9xx,xxx     |
  
  \`\`\`
  **Estimated Total Cost (for ${e.numberOfTravellers} ${e.numberOfTravellers>1?"travelers":"traveler"}): \u20B9xx,xxx**
  \`\`\`
  
  Mention whether this is per person or for all travelers.
  
  ---
  
  ## \u{1F4A1} Travel Tips & Recommendations
  
  - \u{1F4F1} Mobile connectivity or SIM options
  - \u{1F9F4} Essentials: sunscreen, water bottles, repellents
  - \u{1F35B} Local food to try
  - \u{1F9E5} Clothing based on weather
  - \u{1F4F8} Best photo spots
  - \u{1F5D3}\uFE0F Things to avoid (e.g., local holidays, closures)
  
  ---
  
  Return a beautiful, structured Markdown output.`}convertUsdToInr(e){let r=n=>Math.round(n*83);return e.replace(/\$([0-9]+(\.[0-9]+)?)/g,(n,u)=>{let g=parseFloat(u);return isNaN(g)?n:`\u20B9${r(g).toLocaleString("en-IN")}`})}saveItinerary(){if(!this.itinerary)return;let e={id:Date.now().toString(),trip:H({},this.trip),itinerary:this.itinerary,createdAt:Date.now()};this.savedItineraries=[...this.savedItineraries,e],this.persistItineraries(),this.selectedTabIndex=this.savedItineraries.length}removeItinerary(e){this.savedItineraries=this.savedItineraries.filter(r=>r.id!==e),this.persistItineraries(),this.selectedTabIndex>this.savedItineraries.length&&(this.selectedTabIndex=this.savedItineraries.length)}persistItineraries(){typeof window<"u"&&window.localStorage&&localStorage.setItem("trip_itineraries",JSON.stringify(this.savedItineraries))}loadSavedItineraries(){if(typeof window<"u"&&window.localStorage){let e=localStorage.getItem("trip_itineraries");e&&(this.savedItineraries=JSON.parse(e))}}};s.\u0275fac=function(r){return new(r||s)(w(Ke),w(ae))},s.\u0275cmp=T({type:s,selectors:[["app-trip-planner"]],features:[ne([ae])],decls:139,vars:43,consts:[["tripForm","ngForm"],["autoStart","matAutocomplete"],["autoDest","matAutocomplete"],["cb",""],[1,"h-[calc(100vh-90px)]","bg-white"],[1,"h-full","px-2","py-1","flex","flex-col","sm:px-4","md:px-6"],[1,"flex-none","flex","items-center","py-1","justify-between"],[3,"headerLinkItems"],[1,"bg-gradient-to-br","from-primary-50","via-white","to-primary-100/80","rounded-xl","mt-2",3,"selectedIndexChange","selectedIndex"],["mat-tab-label",""],[1,"w-full","mx-auto","p-4","bg-gradient-to-br","from-primary-50","via-white","px-2","sm:px-4"],[1,"text-xl","sm:text-2xl","font-bold","mb-4","text-primary-800"],[1,"fa","fa-paper-plane-o","text-primary-700","mr-2"],[1,"",3,"ngSubmit"],[1,"space-y-6","!h-[calc(100vh-21.5rem)]","overflow-y-auto"],[1,"font-medium","text-primary-700","mb-2","flex","items-center","justify-between","gap-2","text-sm","sm:text-base"],[1,"flex","items-center"],["class","ml-1",4,"ngIf"],[1,"text-red-600","ml-1"],[1,"ml-2","text-xs",3,"onButtonClickEvent","iconClass","buttonName"],["type","password","name","apiKey","required","",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","mt-2","justify-between","border-x-2","bg-green-500/10","border-solid","border-green-500","rounded","p-2","gap-2"],["type","checkbox","id","saveApiKey","name","saveApiKey",1,"mr-2","accent-primary-600",3,"ngModelChange","ngModel"],["for","saveApiKey",1,"text-primary-700","text-xs","sm:text-sm"],[1,"text-xs",3,"onButtonClickEvent","iconClass","buttonName"],[1,"text-green-900","block","mt-1","text-xs","sm:text-sm"],["aria-hidden","true",1,"fa","fa-info-circle","mr-1","text-green-500"],[1,"font-bold","text-green-700","text-sm","sm:text-base"],[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2","sm:gap-6"],[1,"block","font-medium","text-primary-700","mb-2","flex","items-center","gap-2","text-sm","sm:text-base"],["type","text","matInput","","placeholder","Start Location",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"formControl","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","placeholder","Destination",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"formControl","matAutocomplete"],["type","number","name","days","min","1","required","",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["type","date","name","startDate","required","",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["type","number","name","numberOfTravellers","min","1","required","",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["name","travelMode","required","",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["value","",1,"text-gray-400"],["value","suggest"],["value","car"],["value","train"],["value","flight"],["value","bus"],["value","other"],["name","experiences","required","",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["value","adventure"],["value","relaxation"],["value","culture"],["value","nature"],["value","food"],[1,"relative"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-primary-700","font-semibold","text-sm","sm:text-base"],["type","text","name","budget","placeholder","0","autocomplete","off",1,"w-full","pl-12","sm:pl-14","pr-4","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],[1,"my-4"],[1,"text-sm",3,"onButtonClickEvent","iconClass","buttonName"],[1,"flex","items-center","gap-2","mt-4","px-2","text-primary-700","text-xs","sm:text-sm"],[1,"fa","fa-info-circle","text-primary-500"],["class","text-base sm:text-lg font-semibold text-primary-700 py-2 mt-2 flex",4,"ngIf"],[4,"ngIf"],["type","submit",1,"w-full","px-4","py-3","mt-4","rounded-2xl","transition-colors","duration-200","text-white","text-base","sm:text-lg","font-medium","hover:bg-primary-700","bg-primary-500","disabled:bg-gray-300","disabled:text-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"text-white","fa","fa-list-alt","mr-2"],["class","mt-4 text-primary-700 text-sm sm:text-base",4,"ngIf"],["class","mt-4 text-primary-600 text-sm sm:text-base",4,"ngIf"],[4,"ngFor","ngForOf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-60",4,"ngIf"],[3,"headerText","onCancel",4,"ngIf"],[1,"text-gray-700","font-bold","text-sm","sm:text-base"],[1,"fa","fa-pencil-square-o","text-gray-700","mr-1"],[1,"ml-1"],[1,"fa","fa-check-circle","text-green-600"],[3,"value"],[1,"text-base","sm:text-lg","font-semibold","text-primary-700","py-2","mt-2","flex"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-4","gap-y-2"],["class","flex items-center text-sm sm:text-base",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","sm:gap-6"],["name","nightlifePreference",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["name","dietPreference",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["name","fitnessLevel",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["name","travelCompanionType",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["name","languageComfort",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["type","text","class","w-full px-3 py-2 text-base sm:text-lg rounded-lg border border-primary-700 bg-primary-50/10 text-primary-900 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-primary-500 mt-2","name","languageComfortOther","placeholder","Please specify",3,"ngModel","ngModelChange",4,"ngIf"],["name","paceOfTravel",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["name","accommodationType",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["name","connectivityPreference",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["name","weatherPreference",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],[1,"space-y-4"],["name","placesVisited","rows","2","placeholder","e.g., Mumbai, Goa",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["name","mustVisit","rows","2","placeholder","e.g., Eravikulam National Park",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["type","text","name","eventOccasion","placeholder","e.g., Honeymoon, Birthday, Festival Trip",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],["name","additionalComments","rows","2","placeholder","Any extra notes or requests",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","text-sm","sm:text-base"],["type","checkbox",1,"mr-2","accent-primary-600",3,"change","checked","name"],["type","text","name","languageComfortOther","placeholder","Please specify",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500","mt-2",3,"ngModelChange","ngModel"],[1,"mt-4","text-primary-700","text-sm","sm:text-base"],[1,"text-xs","sm:text-sm"],[1,"mt-4","text-primary-600","text-sm","sm:text-base"],[1,"!h-[calc(100vh-12rem)]","bg-white"],[3,"delete","savedItinerary"],[1,"text-primary-900","flex","items-center","text-xs","sm:text-sm"],["aria-hidden","true",1,"fa","fas","fa-route","text-primary-900","mr-1","sm:mr-2"],[1,"text-primary-900","hidden","sm:inline"],[1,"text-primary-900","sm:hidden"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-white","bg-opacity-60"],[1,"bg-primary-50","rounded-lg","shadow-lg","p-4","sm:p-8","flex","flex-col","items-center","max-w-sm","mx-4"],[1,"text-lg","sm:text-2xl","mb-2","text-primary-800","text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-6","w-6","sm:h-8","sm:w-8","text-primary-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v8z",1,"opacity-75"],[3,"onCancel","headerText"],[1,"space-y-2","text-primary-900","text-sm","sm:text-base"],[1,"flex","items-center","gap-2","text-base","sm:text-lg","font-semibold"],[1,"font-semibold","text-green-700"],["href","https://platform.openai.com","target","_blank",1,"text-primary-700","underline"],["href","https://platform.openai.com/account/api-keys","target","_blank",1,"text-primary-700","underline"],[1,"text-yellow-700","font-semibold","flex","items-center","gap-2"],[1,"font-semibold","text-blue-700"],["href","https://platform.openai.com/account/usage","target","_blank",1,"text-primary-700","underline"],[1,"list-disc","ml-4","sm:ml-6"],["href","https://openai.com/pricing","target","_blank",1,"text-primary-700","underline"]],template:function(r,n){if(r&1){let u=b();t(0,"div",4)(1,"div",5)(2,"div",6),d(3,"app-custom-header-link",7),i(),t(4,"mat-tab-group",8),E("selectedIndexChange",function(y){return h(u),M(n.selectedTabIndex,y)||(n.selectedTabIndex=y),x(y)}),t(5,"mat-tab"),c(6,cn,3,0,"ng-template",9),t(7,"div",10)(8,"h2",11),d(9,"i",12),l(10," Trip Planner "),i(),t(11,"form",13,0),_("ngSubmit",function(){return h(u),x(n.onSubmit())}),t(13,"div",14)(14,"div")(15,"label",15)(16,"div",16),l(17," OpenAI API Key "),c(18,un,2,0,"span",17),t(19,"span",18),l(20,"*"),i()(),t(21,"app-custom-button",19),_("onButtonClickEvent",function(){return h(u),x(n.openApiKeyInstructionsModal())}),i()(),t(22,"input",20),E("ngModelChange",function(y){return h(u),M(n.apiKey,y)||(n.apiKey=y),x(y)}),i(),t(23,"div",21)(24,"div",16)(25,"input",22),E("ngModelChange",function(y){return h(u),M(n.saveApiKey,y)||(n.saveApiKey=y),x(y)}),i(),t(26,"label",23),l(27,"Save API key for future use (stored in your browser)"),i()(),t(28,"app-custom-button",24),_("onButtonClickEvent",function(){return h(u),x(n.removeApiKey())}),i()(),t(29,"small",25),d(30,"i",26),l(31,"Your API key is "),t(32,"span",27),l(33,"never sent to any server"),i(),l(34," except OpenAI. For your privacy, clear the field after use if you do not wish to save it."),i()(),t(35,"div",28)(36,"div")(37,"label",29),l(38," Start Location "),c(39,gn,2,0,"span",17),t(40,"span",18),l(41,"*"),i()(),d(42,"input",30),t(43,"mat-autocomplete",31,1),_("optionSelected",function(y){return h(u),x(n.onStartLocationSelected(y.option.value))}),c(45,fn,2,2,"mat-option",32),V(46,"async"),i()(),t(47,"div")(48,"label",29),l(49," Select Destination "),c(50,hn,2,0,"span",17),t(51,"span",18),l(52,"*"),i()(),d(53,"input",33),t(54,"mat-autocomplete",31,2),_("optionSelected",function(y){return h(u),x(n.onDestinationSelected(y.option.value))}),c(56,xn,2,2,"mat-option",32),V(57,"async"),i()(),t(58,"div")(59,"label",29),l(60," Number of Days "),c(61,yn,2,0,"span",17),t(62,"span",18),l(63,"*"),i()(),t(64,"input",34),E("ngModelChange",function(y){return h(u),M(n.trip.days,y)||(n.trip.days=y),x(y)}),i()(),t(65,"div")(66,"label",29),l(67," Trip Start Date "),c(68,_n,2,0,"span",17),i(),t(69,"input",35),E("ngModelChange",function(y){return h(u),M(n.trip.startDate,y)||(n.trip.startDate=y),x(y)}),i()(),t(70,"div")(71,"label",29),l(72," Number of Travellers "),c(73,vn,2,0,"span",17),i(),t(74,"input",36),E("ngModelChange",function(y){return h(u),M(n.trip.numberOfTravellers,y)||(n.trip.numberOfTravellers=y),x(y)}),i()(),t(75,"div")(76,"label",29),l(77," Travel Mode "),c(78,bn,2,0,"span",17),i(),t(79,"select",37),E("ngModelChange",function(y){return h(u),M(n.trip.travelMode,y)||(n.trip.travelMode=y),x(y)}),t(80,"option",38),l(81,"Select..."),i(),t(82,"option",39),l(83,"Suggest Best Way"),i(),t(84,"option",40),l(85,"Car"),i(),t(86,"option",41),l(87,"Train"),i(),t(88,"option",42),l(89,"Flight"),i(),t(90,"option",43),l(91,"Bus"),i(),t(92,"option",44),l(93,"Other"),i()()(),t(94,"div")(95,"label",29),l(96," Type of Experiences "),c(97,Cn,2,0,"span",17),i(),t(98,"select",45),E("ngModelChange",function(y){return h(u),M(n.trip.experiences,y)||(n.trip.experiences=y),x(y)}),t(99,"option",38),l(100,"Select..."),i(),t(101,"option",46),l(102,"Adventure"),i(),t(103,"option",47),l(104,"Relaxation"),i(),t(105,"option",48),l(106,"Culture"),i(),t(107,"option",49),l(108,"Nature"),i(),t(109,"option",50),l(110,"Food"),i(),t(111,"option",44),l(112,"Other"),i()()(),t(113,"div")(114,"label",29),l(115," Estimated Budget (optional) "),c(116,wn,2,0,"span",17),i(),t(117,"div",51)(118,"span",52),l(119,"INR"),i(),t(120,"input",53),_("ngModelChange",function(y){return h(u),x(n.onBudgetInput(y))}),i()()()(),t(121,"div"),d(122,"hr",54),t(123,"app-custom-button",55),_("onButtonClickEvent",function(){return h(u),x(n.toggleMorePreferences())}),i(),t(124,"div",56),d(125,"i",57),t(126,"span"),l(127,"Add more preferences for a more personalised itinerary."),i()(),c(128,Sn,2,0,"span",58),i(),c(129,rr,126,46,"ng-container",59),i(),t(130,"div")(131,"button",60),d(132,"i",61),l(133," Generate Itinerary "),i()()(),c(134,ar,7,1,"div",62)(135,or,2,0,"div",63),i()(),c(136,sr,4,1,"mat-tab",64),i()()(),c(137,mr,7,0,"div",65)(138,pr,58,1,"app-modal-holder",66)}if(r&2){let u=Pe(44),g=Pe(55);m(3),p("headerLinkItems",n.headerLinkItems),m(),S("selectedIndex",n.selectedTabIndex),m(14),p("ngIf",n.isFieldFilled(n.apiKey)),m(3),p("iconClass","fa fa-info-circle text-primary-600")("buttonName","How to get an API Key?"),m(),S("ngModel",n.apiKey),m(3),S("ngModel",n.saveApiKey),m(3),p("iconClass","fa fa-trash-o text-xs")("buttonName","Remove API Key"),m(11),p("ngIf",n.isFieldFilled(n.startLocationControl.value)),m(3),p("formControl",n.startLocationControl)("matAutocomplete",u),m(3),p("ngForOf",_t(46,39,n.filteredStartLocations)),m(5),p("ngIf",n.isFieldFilled(n.destinationControl.value)),m(3),p("formControl",n.destinationControl)("matAutocomplete",g),m(3),p("ngForOf",_t(57,41,n.filteredDestinations)),m(5),p("ngIf",n.isFieldFilled(n.trip.days)),m(3),S("ngModel",n.trip.days),m(4),p("ngIf",n.isFieldFilled(n.trip.startDate)),m(),S("ngModel",n.trip.startDate),m(4),p("ngIf",n.isFieldFilled(n.trip.numberOfTravellers)),m(),S("ngModel",n.trip.numberOfTravellers),m(4),p("ngIf",n.isFieldFilled(n.trip.travelMode)),m(),S("ngModel",n.trip.travelMode),m(18),p("ngIf",n.isFieldFilled(n.trip.experiences)),m(),S("ngModel",n.trip.experiences),m(18),p("ngIf",n.isFieldFilled(n.trip.budget)),m(4),p("ngModel",n.formattedBudget),m(3),p("iconClass",n.showMorePreferences?"fa fa-minus":"fa fa-plus")("buttonName",n.showMorePreferences?"Hide preferences":"Add more preferences"),m(5),p("ngIf",n.showMorePreferences),m(),p("ngIf",n.showMorePreferences),m(2),p("disabled",!n.isApiKeyValid()||!n.isStartLocationValid()||!n.isDestinationValid()||!n.isDaysValid()||!n.isTravellersValid()),m(3),p("ngIf",n.error),m(),p("ngIf",n.loading),m(),p("ngForOf",n.savedItineraries),m(),p("ngIf",n.loading),m(),p("ngIf",n.showApiKeyInstructionsModal)}},dependencies:[P,F,I,N,Ce,qe,Ye,z,Ue,He,Ge,U,be,Qe,Je,$,ze,Ze,$e,ti,Zt,Xt,ei,A,Xe,Gt,zt,qt,D,lt,X,Yt,et,ui,Ot],styles:["@media (max-width: 640px){.trip-planner-container[_ngcontent-%COMP%]{padding:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{min-height:44px}.space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1.25rem}input[type=checkbox][_ngcontent-%COMP%]{min-width:20px;min-height:20px}button[_ngcontent-%COMP%]{min-height:48px}}.ng-select[_ngcontent-%COMP%]{min-width:100%;font-size:1rem}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{min-height:44px;border-radius:.5rem;border:1px solid #d1d5db;box-shadow:none;background:#fff;padding:.25rem .75rem}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-radius:9999px;padding:.25rem .75rem;margin-right:.5rem;font-size:.95rem;display:inline-flex;align-items:center}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon[_ngcontent-%COMP%]{color:#fff;margin-left:.5rem}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{color:#9ca3af;font-size:1rem}.ng-select[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{border-radius:.5rem;box-shadow:0 4px 16px #00000014;border:1px solid #d1d5db;margin-top:.25rem;font-size:1rem}.ng-select[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.375rem;margin:.125rem .25rem;transition:background .2s}.ng-select[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-option-selected[_ngcontent-%COMP%], .ng-select[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-option-marked[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.ng-select[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]:hover{background:#e0e7ff;color:#1e3a8a}@media (max-width: 640px){.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{min-height:48px;font-size:16px}.ng-select[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]{padding:1rem;min-height:48px}}  .mat-mdc-tab-group .mdc-tab-indicator__content--underline{border-color:#00000036!important}@media (max-width: 640px){  .mat-mdc-tab-group .mdc-tab{min-width:auto;padding:0 8px}  .mat-mdc-tab-group .mdc-tab__text-label{font-size:.875rem}}@media (max-width: 640px){input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}}@media (max-width: 640px){.modal-content[_ngcontent-%COMP%]{margin:1rem;max-width:calc(100vw - 2rem)}}"]});let a=s;return a})();var le=(()=>{let s=class s{constructor(e){this.platformId=e,this.STORAGE_KEY="canIEatThisUserProfile",this.PROFILES_KEY="canIEatThisUserProfiles",this.ACTIVE_PROFILE_KEY="canIEatThisActiveProfile",this.CHAT_STORAGE_KEY="canIEatThisChatMessages",this.API_KEY="canIEatThisOpenAIApiKey",this.profile=null}getProfiles(){if(L(this.platformId)){let e=localStorage.getItem(this.PROFILES_KEY);if(e)try{return JSON.parse(e)}catch{}}return[]}saveProfiles(e){L(this.platformId)&&localStorage.setItem(this.PROFILES_KEY,JSON.stringify(e))}saveProfile(e){let r=this.getProfiles(),n=e.name.trim().toLowerCase(),u=r.findIndex(g=>g.name.trim().toLowerCase()===n);u>-1?r[u]=e:r.push(e),this.saveProfiles(r),this.setActiveProfile(e)}deleteProfile(e){let r=this.getProfiles(),n=e.name.trim().toLowerCase();r=r.filter(g=>g.name.trim().toLowerCase()!==n),this.saveProfiles(r);let u=this.getActiveProfile();u&&u.name.trim().toLowerCase()===n&&localStorage.removeItem(this.ACTIVE_PROFILE_KEY),localStorage.removeItem(this.getChatStorageKey(e.name))}setActiveProfile(e){L(this.platformId)&&localStorage.setItem(this.ACTIVE_PROFILE_KEY,JSON.stringify(e)),this.profile=e}getActiveProfile(){if(!this.profile&&L(this.platformId)){let e=localStorage.getItem(this.ACTIVE_PROFILE_KEY);if(e)try{this.profile=JSON.parse(e)}catch{}}return this.profile}getApiKey(){return L(this.platformId)&&localStorage.getItem(this.API_KEY)||""}setApiKey(e){L(this.platformId)&&localStorage.setItem(this.API_KEY,e)}removeApiKey(){L(this.platformId)&&localStorage.removeItem(this.API_KEY)}getChatStorageKey(e){return`canIEatThisChatMessages_${e.trim().toLowerCase()}`}loadProfile(){if(!this.profile&&L(this.platformId)){let e=localStorage.getItem(this.STORAGE_KEY);if(e){let r=JSON.parse(e);this.profile=Z(H({},r),{createdAt:r.createdAt||Date.now()})}}return this.profile?Z(H({},this.profile),{openAIApiKey:this.getApiKey()}):null}clearProfile(){this.profile&&localStorage.removeItem(this.getChatStorageKey(this.profile.name)),this.profile=null,L(this.platformId)&&localStorage.removeItem(this.ACTIVE_PROFILE_KEY)}};s.\u0275fac=function(r){return new(r||s)(Fe(ie))},s.\u0275prov=ue({token:s,factory:s.\u0275fac,providedIn:"root"});let a=s;return a})();var fi=()=>({standalone:!0});function dr(a,s){a&1&&(t(0,"span",59),d(1,"i",60),i())}function cr(a,s){a&1&&(t(0,"div",61),l(1,"API Key required."),i())}function ur(a,s){if(a&1){let o=b();t(0,"app-modal-holder",62),_("onCancel",function(){h(o);let r=f();return x(r.closeApiKeyInstructionsModal())}),t(1,"div",63)(2,"div",64)(3,"span"),l(4,"\u{1F511}"),i(),t(5,"span"),l(6,"How to Get a ChatGPT API Key"),i()(),t(7,"div",65),l(8,"\u2705 Step 1: Create/Open an OpenAI Account"),i(),t(9,"div"),l(10," Go to "),t(11,"a",66),l(12,"https://platform.openai.com"),i(),d(13,"br"),l(14," Sign up or log in with your existing OpenAI account "),i(),t(15,"div",65),l(16,"\u2705 Step 2: Visit the API Keys Section"),i(),t(17,"div"),l(18," After logging in, go to: "),t(19,"a",67),l(20,"https://platform.openai.com/account/api-keys"),i()(),t(21,"div",65),l(22,"\u2705 Step 3: Create a New Secret Key"),i(),t(23,"div"),l(24,' Click "Create new secret key"'),d(25,"br"),l(26,' Give it a name (e.g., "Can I Eat This App")'),d(27,"br"),l(28," Copy the key shown \u2014 you won't be able to see it again "),i(),t(29,"div",68),l(30,"\u26A0\uFE0F "),t(31,"span"),l(32,"Keep this key private \u2014 don't share it publicly"),i()(),t(33,"div",69),l(34,"\u{1F4B0} Pricing Note"),i(),t(35,"div"),l(36," OpenAI's API is pay-as-you-go"),d(37,"br"),l(38," New accounts often get free credits (check "),t(39,"a",70),l(40,"usage"),i(),l(41,")"),d(42,"br"),l(43," You'll be charged based on: "),t(44,"ul",71)(45,"li"),l(46,"The model you use ("),t(47,"b"),l(48,"gpt-3.5-turbo"),i(),l(49," is cheap; "),t(50,"b"),l(51,"gpt-4"),i(),l(52," is more expensive)"),i(),t(53,"li"),l(54,"The number of tokens (words) in each request/response"),i()(),l(55," More info here: "),t(56,"a",72),l(57,"https://openai.com/pricing"),i()()()()}a&2&&p("headerText","How to Get a ChatGPT API Key")}function gr(a,s){if(a&1&&(t(0,"option",20),l(1),i()),a&2){let o=s.$implicit,e=f();p("ngValue",o),m(),W("",o.name," (",e.formatDate(o.createdAt),")")}}function fr(a,s){a&1&&(t(0,"div",61),l(1,"A profile with this name already exists."),i())}function hr(a,s){a&1&&(t(0,"div",61),l(1,"Name is required."),i())}function xr(a,s){a&1&&(t(0,"div",61),l(1,"Valid age required."),i())}function yr(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function _r(a,s){a&1&&(t(0,"div",61),l(1,"Gender required."),i())}function vr(a,s){a&1&&(t(0,"div",61),l(1,"Valid height required."),i())}function br(a,s){a&1&&(t(0,"div",61),l(1,"Valid weight required."),i())}function Cr(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function wr(a,s){a&1&&(t(0,"div",61),l(1,"Required."),i())}function Sr(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function Mr(a,s){a&1&&(t(0,"div",61),l(1,"Required."),i())}function Er(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function Tr(a,s){a&1&&(t(0,"div",61),l(1,"Required."),i())}function Pr(a,s){if(a&1){let o=b();t(0,"label",74)(1,"input",75),_("change",function(r){h(o);let n=f();return x(n.onHealthConditionChange(r))}),i(),l(2),i()}if(a&2){let o=s.$implicit,e=f();m(),p("value",o)("checked",e.userForm.value.healthConditions==null?null:e.userForm.value.healthConditions.includes(o)),m(),C(" ",o," ")}}function Ir(a,s){if(a&1){let o=b();t(0,"div",76)(1,"input",77),_("input",function(r){h(o);let n=f();return x(n.onOtherHealthConditionInput(r.target.value))}),i()()}if(a&2){let o=f();m(),p("value",o.otherHealthCondition)}}function kr(a,s){a&1&&(t(0,"div",61),l(1,"Required (0-48)."),i())}function Or(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function Ar(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function Fr(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function Lr(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function Dr(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function Vr(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function Nr(a,s){if(a&1&&(t(0,"option",73),l(1),i()),a&2){let o=s.$implicit;p("value",o),m(),v(o)}}function jr(a,s){if(a&1){let o=b();t(0,"label",78)(1,"input",79),_("change",function(r){h(o);let n=f();return x(n.onCravingReasonChange(r))}),i(),l(2),i()}if(a&2){let o=s.$implicit,e=f();m(),p("value",o)("checked",e.userForm.value.cravingReason==null?null:e.userForm.value.cravingReason.includes(o)),m(),C(" ",o," ")}}function Wr(a,s){if(a&1){let o=b();t(0,"button",80),_("click",function(){h(o);let r=f();return x(r.saveAsNewProfile())}),d(1,"i",81),l(2,"Save as New Profile "),i()}if(a&2){let o=f();p("disabled",o.userForm.invalid||!o.isProfileNameUnique())}}function Br(a,s){if(a&1){let o=b();t(0,"button",82),_("click",function(){h(o);let r=f();return x(r.deleteProfile())}),d(1,"i",83),l(2,"Delete Profile "),i()}}var hi=(()=>{let s=class s{constructor(){this.profileSaved=new q,this.dietaryGoals=["Lose Weight","Gain Weight","Maintain Weight"],this.activityLevels=["Sedentary","Lightly Active","Moderately Active","Very Active"],this.dietaryPreferences=["Veg","Non-Veg","Vegan","Keto","Paleo","Other"],this.healthConditionsList=["Diabetes","PCOD/PCOS","Cholesterol","Hypertension","Thyroid","Celiac","Other"],this.genders=["Male","Female","Other"],this.saveApiKey=!1,this.showApiKeyInstructionsModal=!1,this.otherHealthCondition="",this.profiles=[],this.selectedProfile=null,this.eatingHabitsOptions=["3 meals a day","Frequent snacker","Intermittent fasting","Late-night eater"],this.sleepScheduleOptions=["Early sleeper","Night owl","All over the place"],this.cravingReasonOptions=["Bored","Emotional eating","Post-workout reward","Social setting","Just love food"],this.recentActivityOptions=["Gym","Walk","Long day at work","Party","Nothing"],this.timeOfDayOptions=["Morning","Afternoon","Evening","Late night"],this.currentMoodOptions=["Motivated","Lazy","Craving hard","Sad","Cheat day vibes"],this.willingToCompensateOptions=["Yes, I\u2019ll work out tomorrow","I\u2019ll skip the next meal","Nope. YOLO"],this.sensitivityLevelOptions=["Brutally honest","Mild roast only","Make it poetic"],this.fb=ft(Ht),this.profileService=ft(le),this.userForm=this.fb.group({name:["",k.required],age:[null,[k.required,k.min(1),k.max(120)]],gender:["",k.required],heightCm:[null,[k.required,k.min(50),k.max(300)]],weightKg:[null,[k.required,k.min(10),k.max(500)]],dietaryGoal:["",k.required],activityLevel:["",k.required],dietaryPreference:["",k.required],healthConditions:[[]],timeSinceLastMeal:[null,[k.required,k.min(0),k.max(48)]],eatingHabits:[""],sleepSchedule:[""],cravingReason:[[]],recentActivity:[""],timeOfDay:[""],currentMood:[""],willingToCompensate:[""],sensitivityLevel:[""],currentCuisine:[""]}),this.apiKeyControl=new Ie(this.profileService.getApiKey(),k.required),this.loadProfiles(),this.apiKeyControl.value&&(this.saveApiKey=!0)}mapProfileForForm(e){let r={Gain:"Gain Weight",Lose:"Lose Weight",Maintain:"Maintain Weight"},n={Light:"Lightly Active",Moderate:"Moderately Active",Active:"Very Active"};return Z(H({},e),{dietaryGoal:r[e.dietaryGoal]||e.dietaryGoal,activityLevel:n[e.activityLevel]||e.activityLevel})}loadProfiles(){this.profiles=this.profileService.getProfiles();let e=this.profileService.getActiveProfile();if(e){if(this.selectedProfile=e,this.userForm.patchValue(this.mapProfileForForm(e)),e.healthConditions&&Array.isArray(e.healthConditions)){let r=e.healthConditions.find(n=>!this.healthConditionsList.includes(n));r&&(this.otherHealthCondition=r)}}else this.selectedProfile=null,this.userForm.reset(),this.saveApiKey=!!this.apiKeyControl.value,this.otherHealthCondition=""}selectProfile(e){if(e){let r=this.profiles.find(n=>n.name.trim().toLowerCase()===e.name.trim().toLowerCase());if(this.selectedProfile=r||e,this.userForm.patchValue(this.mapProfileForForm(this.selectedProfile)),this.selectedProfile.healthConditions&&Array.isArray(this.selectedProfile.healthConditions)){let n=this.selectedProfile.healthConditions.find(u=>!this.healthConditionsList.includes(u));n?this.otherHealthCondition=n:this.otherHealthCondition=""}}else this.createNewProfile()}createNewProfile(){this.selectedProfile=null,this.userForm.reset(),this.saveApiKey=!!this.apiKeyControl.value,this.otherHealthCondition=""}saveAsNewProfile(){if(this.userForm.valid){let e=(this.userForm.get("name")?.value||"").trim().toLowerCase();if(this.profiles.some(n=>n.name.trim().toLowerCase()===e))return;let r=Z(H({},this.userForm.value),{createdAt:Date.now()});this.profileService.saveProfile(r),this.selectedProfile=r,this.loadProfiles(),this.profileSaved.emit(Z(H({},r),{openAIApiKey:this.apiKeyControl.value}))}else this.userForm.markAllAsTouched(),this.apiKeyControl.markAsTouched()}deleteProfile(){this.selectedProfile&&(this.profileService.deleteProfile(this.selectedProfile),this.loadProfiles(),this.selectedProfile=null,this.createNewProfile())}openApiKeyInstructionsModal(){this.showApiKeyInstructionsModal=!0}closeApiKeyInstructionsModal(){this.showApiKeyInstructionsModal=!1}removeApiKey(){this.apiKeyControl.setValue(""),this.saveApiKey=!1,this.profileService.removeApiKey()}onSubmit(){if(this.userForm.valid&&this.apiKeyControl.valid){this.saveApiKey&&this.apiKeyControl.value&&this.profileService.setApiKey(this.apiKeyControl.value);let e=(this.userForm.get("name")?.value||"").trim().toLowerCase(),r,n=this.profiles.find(u=>u.name.trim().toLowerCase()===e);n?r=Z(H({},this.userForm.value),{createdAt:n.createdAt}):r=Z(H({},this.userForm.value),{createdAt:Date.now()}),this.profileService.saveProfile(r),this.selectedProfile=r,this.loadProfiles(),this.profileSaved.emit(Z(H({},r),{openAIApiKey:this.apiKeyControl.value}))}else this.userForm.markAllAsTouched(),this.apiKeyControl.markAsTouched()}onHealthConditionChange(e){let r=e.target,n=r.value,u=r.checked,g=this.userForm.value.healthConditions||[];u?(g.includes(n)||(g=[...g,n]),n==="Other"&&this.otherHealthCondition&&(g.includes(this.otherHealthCondition)||(g=[...g,this.otherHealthCondition]))):(g=g.filter(y=>y!==n),n==="Other"&&(g=g.filter(y=>this.healthConditionsList.includes(y)),this.otherHealthCondition="")),this.userForm.patchValue({healthConditions:g})}onOtherHealthConditionInput(e){this.otherHealthCondition=e;let r=this.userForm.value.healthConditions||[];r=r.filter(n=>this.healthConditionsList.includes(n)),e&&(this.userForm.value.healthConditions||[]).includes("Other")&&(r=[...r,e]),this.userForm.patchValue({healthConditions:r})}onCravingReasonChange(e){let r=e.target,n=r.value,u=r.checked,g=this.userForm.value.cravingReason||[];u?g.includes(n)||(g=[...g,n]):g=g.filter(y=>y!==n),this.userForm.patchValue({cravingReason:g})}formatDate(e){return new Date(e).toLocaleString()}compareProfiles(e,r){return!!e&&!!r&&e.name===r.name&&e.createdAt===r.createdAt}isProfileNameUnique(){let e=(this.userForm.get("name")?.value||"").trim().toLowerCase();return!e||this.selectedProfile&&this.selectedProfile.name.trim().toLowerCase()===e?!1:!this.profiles.some(r=>r.name.trim().toLowerCase()===e)}};s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=T({type:s,selectors:[["app-user-form"]],outputs:{profileSaved:"profileSaved"},decls:185,vars:47,consts:[[1,"w-full","mx-auto","p-2","bg-gradient-to-br","from-primary-50","via-white","to-primary-100/80","rounded-xl","shadow","space-y-0","flex","flex-col","h-full",3,"ngSubmit","formGroup"],[1,"overflow-y-auto","space-y-6","pb-6","px-1","h-[calc(100vh-15rem)]","flex","flex-col"],[1,"font-medium","text-primary-700","mb-2","flex","items-center","justify-between","gap-2","text-sm","sm:text-base"],[1,"flex","items-center"],["class","ml-1",4,"ngIf"],[1,"text-red-600","ml-1"],[1,"ml-2","text-xs",3,"onButtonClickEvent","iconClass","buttonName"],["type","password","placeholder","sk-...",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"formControl"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","mt-2","justify-between","border-x-2","bg-green-500/10","border-solid","border-green-500","rounded","p-2","gap-2"],["type","checkbox","id","saveApiKey","name","saveApiKey",1,"mr-2","accent-primary-600",3,"ngModelChange","ngModel","ngModelOptions"],["for","saveApiKey",1,"text-primary-700","text-xs","sm:text-sm"],[1,"text-xs",3,"onButtonClickEvent","iconClass","buttonName"],[1,"text-green-900","block","mt-1","text-xs","sm:text-sm"],["aria-hidden","true",1,"fa","fa-info-circle","mr-1","text-green-500"],[1,"font-bold","text-green-700","text-sm","sm:text-base"],["class","text-red-600 text-xs sm:text-sm mt-1",4,"ngIf"],[3,"headerText","onCancel",4,"ngIf"],[1,"mb-4"],[1,"block","font-medium","text-primary-700","mb-2","text-sm","sm:text-base"],[1,"w-full","px-3","py-2","text-base","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"ngModelChange","ngModel","compareWith","ngModelOptions"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"text-red-600"],["type","text","placeholder","Your name",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"formControlName","readonly"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","sm:gap-6"],["formControlName","age","type","number","placeholder","Age","min","1","max","120",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","gender",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","heightCm","type","number","placeholder","Height in cm","min","50","max","300",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","weightKg","type","number","placeholder","Weight in kg","min","10","max","500",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","dietaryGoal",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","activityLevel",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","dietaryPreference",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],[1,"grid","grid-cols-2","sm:grid-cols-3","gap-x-4","gap-y-2"],["class","flex items-center text-sm sm:text-base",4,"ngFor","ngForOf"],["class","mt-2",4,"ngIf"],["formControlName","timeSinceLastMeal","type","number","min","0","max","48","placeholder","e.g. 2",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500"],[1,"pt-2"],[1,"font-semibold","text-primary-700","mb-2","mt-4"],[1,"text-xs","text-primary-400"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["formControlName","eatingHabits",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["value",""],["formControlName","sleepSchedule",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","recentActivity",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","timeOfDay",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","currentMood",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","willingToCompensate",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","sensitivityLevel",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","focus:outline-none","focus:ring-1","focus:ring-primary-500"],["formControlName","currentCuisine","type","text","placeholder","e.g. Indian, Italian, etc.",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500"],[1,"mt-4"],[1,"flex","flex-wrap","gap-3"],["class","flex items-center gap-2 text-sm",4,"ngFor","ngForOf"],[1,"w-full","pt-4","border-t","border-primary-100","flex","flex-col","sm:flex-row","gap-2"],["type","button","class","w-full px-4 py-3 rounded-2xl transition-colors duration-200 text-white text-base sm:text-lg font-medium hover:bg-primary-700 bg-primary-400 disabled:bg-gray-300 disabled:text-gray-400 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],["type","button","class","w-full px-4 py-3 rounded-2xl transition-colors duration-200 text-white text-base sm:text-lg font-medium hover:bg-red-900 bg-red-700 disabled:bg-gray-300 disabled:text-gray-400 disabled:cursor-not-allowed",3,"click",4,"ngIf"],["type","submit",1,"w-full","px-4","py-3","rounded-2xl","transition-colors","duration-200","text-white","text-base","sm:text-lg","font-medium","hover:bg-primary-700","bg-primary-500","disabled:bg-gray-300","disabled:text-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"fa","fa-save","mr-2","text-white"],[1,"ml-1"],[1,"fa","fa-check-circle","text-green-600"],[1,"text-red-600","text-xs","sm:text-sm","mt-1"],[3,"onCancel","headerText"],[1,"space-y-2","text-primary-900","text-sm","sm:text-base"],[1,"flex","items-center","gap-2","text-base","sm:text-lg","font-semibold"],[1,"font-semibold","text-green-700"],["href","https://platform.openai.com","target","_blank",1,"text-primary-700","underline"],["href","https://platform.openai.com/account/api-keys","target","_blank",1,"text-primary-700","underline"],[1,"text-yellow-700","font-semibold","flex","items-center","gap-2"],[1,"font-semibold","text-blue-700"],["href","https://platform.openai.com/account/usage","target","_blank",1,"text-primary-700","underline"],[1,"list-disc","ml-4","sm:ml-6"],["href","https://openai.com/pricing","target","_blank",1,"text-primary-700","underline"],[3,"value"],[1,"flex","items-center","text-sm","sm:text-base"],["type","checkbox",1,"mr-2","accent-primary-600",3,"change","value","checked"],[1,"mt-2"],["type","text","placeholder","Please specify other health condition",1,"w-full","px-3","py-2","text-base","sm:text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500",3,"input","value"],[1,"flex","items-center","gap-2","text-sm"],["type","checkbox",1,"accent-primary-600",3,"change","value","checked"],["type","button",1,"w-full","px-4","py-3","rounded-2xl","transition-colors","duration-200","text-white","text-base","sm:text-lg","font-medium","hover:bg-primary-700","bg-primary-400","disabled:bg-gray-300","disabled:text-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fa","fa-plus","mr-2","text-white"],["type","button",1,"w-full","px-4","py-3","rounded-2xl","transition-colors","duration-200","text-white","text-base","sm:text-lg","font-medium","hover:bg-red-900","bg-red-700","disabled:bg-gray-300","disabled:text-gray-400","disabled:cursor-not-allowed",3,"click"],[1,"fa","fa-trash","mr-2","text-white"]],template:function(r,n){if(r&1&&(t(0,"form",0),_("ngSubmit",function(){return n.onSubmit()}),t(1,"div",1)(2,"div")(3,"label",2)(4,"div",3),l(5," OpenAI API Key "),c(6,dr,2,0,"span",4),t(7,"span",5),l(8,"*"),i()(),t(9,"app-custom-button",6),_("onButtonClickEvent",function(){return n.openApiKeyInstructionsModal()}),i()(),d(10,"input",7),t(11,"div",8)(12,"div",3)(13,"input",9),E("ngModelChange",function(g){return M(n.saveApiKey,g)||(n.saveApiKey=g),g}),i(),t(14,"label",10),l(15,"Save API key for future use (stored in your browser)"),i()(),t(16,"app-custom-button",11),_("onButtonClickEvent",function(){return n.removeApiKey()}),i()(),t(17,"small",12),d(18,"i",13),l(19,"Your API key is "),t(20,"span",14),l(21,"never sent to any server"),i(),l(22," except OpenAI. For your privacy, clear the field after use if you do not wish to save it."),i(),c(23,cr,2,0,"div",15),i(),c(24,ur,58,1,"app-modal-holder",16),t(25,"div",17)(26,"label",18),l(27,"Select Profile"),i(),t(28,"select",19),_("ngModelChange",function(g){return n.selectProfile(g)}),t(29,"option",20),l(30,"Create New Profile"),i(),c(31,gr,2,3,"option",21),i()(),t(32,"div")(33,"label",18),l(34,"Name "),t(35,"span",22),l(36,"*"),i()(),d(37,"input",23),c(38,fr,2,0,"div",15)(39,hr,2,0,"div",15),i(),t(40,"div",24)(41,"div")(42,"label",18),l(43,"Age "),t(44,"span",22),l(45,"*"),i()(),d(46,"input",25),c(47,xr,2,0,"div",15),i(),t(48,"div")(49,"label",18),l(50,"Gender "),t(51,"span",22),l(52,"*"),i()(),t(53,"select",26)(54,"option",27),l(55,"Select"),i(),c(56,yr,2,2,"option",28),i(),c(57,_r,2,0,"div",15),i(),t(58,"div")(59,"label",18),l(60,"Height (cm) "),t(61,"span",22),l(62,"*"),i()(),d(63,"input",29),c(64,vr,2,0,"div",15),i(),t(65,"div")(66,"label",18),l(67,"Weight (kg) "),t(68,"span",22),l(69,"*"),i()(),d(70,"input",30),c(71,br,2,0,"div",15),i(),t(72,"div")(73,"label",18),l(74,"Dietary Goal "),t(75,"span",22),l(76,"*"),i()(),t(77,"select",31)(78,"option",27),l(79,"Select"),i(),c(80,Cr,2,2,"option",28),i(),c(81,wr,2,0,"div",15),i(),t(82,"div")(83,"label",18),l(84,"Activity Level "),t(85,"span",22),l(86,"*"),i()(),t(87,"select",32)(88,"option",27),l(89,"Select"),i(),c(90,Sr,2,2,"option",28),i(),c(91,Mr,2,0,"div",15),i()(),t(92,"div")(93,"label",18),l(94,"Dietary Preference "),t(95,"span",22),l(96,"*"),i()(),t(97,"select",33)(98,"option",27),l(99,"Select"),i(),c(100,Er,2,2,"option",28),i(),c(101,Tr,2,0,"div",15),i(),t(102,"div")(103,"label",18),l(104,"Health Conditions"),i(),t(105,"div",34),c(106,Pr,3,3,"label",35),i(),c(107,Ir,2,1,"div",36),i(),t(108,"div")(109,"label",18),l(110,"Time since last meal (hours) "),t(111,"span",22),l(112,"*"),i()(),d(113,"input",37),c(114,kr,2,0,"div",15),i(),t(115,"div",38)(116,"div",39),l(117,"More about you "),t(118,"span",40),l(119,"(optional)"),i()(),t(120,"div",41)(121,"div")(122,"label",18),l(123,"Eating Habits"),i(),t(124,"select",42)(125,"option",43),l(126,"Select"),i(),c(127,Or,2,2,"option",28),i()(),t(128,"div")(129,"label",18),l(130,"Sleep Schedule"),i(),t(131,"select",44)(132,"option",43),l(133,"Select"),i(),c(134,Ar,2,2,"option",28),i()(),t(135,"div")(136,"label",18),l(137,"Recent Activity"),i(),t(138,"select",45)(139,"option",43),l(140,"Select"),i(),c(141,Fr,2,2,"option",28),i()(),t(142,"div")(143,"label",18),l(144,"Time of Day"),i(),t(145,"select",46)(146,"option",43),l(147,"Select"),i(),c(148,Lr,2,2,"option",28),i()(),t(149,"div")(150,"label",18),l(151,"Current Mood"),i(),t(152,"select",47)(153,"option",43),l(154,"Select"),i(),c(155,Dr,2,2,"option",28),i()(),t(156,"div")(157,"label",18),l(158,"Willing to Compensate"),i(),t(159,"select",48)(160,"option",43),l(161,"Select"),i(),c(162,Vr,2,2,"option",28),i()(),t(163,"div")(164,"label",18),l(165,"Sensitivity Level"),i(),t(166,"select",49)(167,"option",43),l(168,"Select"),i(),c(169,Nr,2,2,"option",28),i()(),t(170,"div")(171,"label",18),l(172,"Current Cuisine"),i(),d(173,"input",50),i()(),t(174,"div",51)(175,"label",18),l(176,"Craving Reason"),i(),t(177,"div",52),c(178,jr,3,3,"label",53),i()()()(),t(179,"div",54),c(180,Wr,3,1,"button",55)(181,Br,3,0,"button",56),t(182,"button",57),d(183,"i",58),l(184,"Save & Continue "),i()()()),r&2){let u,g,y,j,K,R,Q,de,G,Se,ce,Oe;p("formGroup",n.userForm),m(6),p("ngIf",(u=n.userForm.get("openAIApiKey"))==null?null:u.value),m(3),p("iconClass","fa fa-info-circle text-primary-600")("buttonName","How to get an API Key?"),m(),p("formControl",n.apiKeyControl),m(3),S("ngModel",n.saveApiKey),p("ngModelOptions",yt(45,fi)),m(3),p("iconClass","fa fa-trash-o text-xs")("buttonName","Remove API Key"),m(7),p("ngIf",((g=n.userForm.get("openAIApiKey"))==null?null:g.touched)&&((g=n.userForm.get("openAIApiKey"))==null?null:g.invalid)),m(),p("ngIf",n.showApiKeyInstructionsModal),m(4),p("ngModel",n.selectedProfile)("compareWith",n.compareProfiles)("ngModelOptions",yt(46,fi)),m(),p("ngValue",null),m(2),p("ngForOf",n.profiles),m(6),p("formControlName","name")("readonly",n.selectedProfile),m(),p("ngIf",!n.selectedProfile&&!n.isProfileNameUnique()&&((y=n.userForm.get("name"))==null?null:y.touched)),m(),p("ngIf",((j=n.userForm.get("name"))==null?null:j.touched)&&((j=n.userForm.get("name"))==null?null:j.invalid)),m(8),p("ngIf",((K=n.userForm.get("age"))==null?null:K.touched)&&((K=n.userForm.get("age"))==null?null:K.invalid)),m(9),p("ngForOf",n.genders),m(),p("ngIf",((R=n.userForm.get("gender"))==null?null:R.touched)&&((R=n.userForm.get("gender"))==null?null:R.invalid)),m(7),p("ngIf",((Q=n.userForm.get("heightCm"))==null?null:Q.touched)&&((Q=n.userForm.get("heightCm"))==null?null:Q.invalid)),m(7),p("ngIf",((de=n.userForm.get("weightKg"))==null?null:de.touched)&&((de=n.userForm.get("weightKg"))==null?null:de.invalid)),m(9),p("ngForOf",n.dietaryGoals),m(),p("ngIf",((G=n.userForm.get("dietaryGoal"))==null?null:G.touched)&&((G=n.userForm.get("dietaryGoal"))==null?null:G.invalid)),m(9),p("ngForOf",n.activityLevels),m(),p("ngIf",((Se=n.userForm.get("activityLevel"))==null?null:Se.touched)&&((Se=n.userForm.get("activityLevel"))==null?null:Se.invalid)),m(9),p("ngForOf",n.dietaryPreferences),m(),p("ngIf",((ce=n.userForm.get("dietaryPreference"))==null?null:ce.touched)&&((ce=n.userForm.get("dietaryPreference"))==null?null:ce.invalid)),m(5),p("ngForOf",n.healthConditionsList),m(),p("ngIf",n.userForm.value.healthConditions==null?null:n.userForm.value.healthConditions.includes("Other")),m(7),p("ngIf",((Oe=n.userForm.get("timeSinceLastMeal"))==null?null:Oe.touched)&&((Oe=n.userForm.get("timeSinceLastMeal"))==null?null:Oe.invalid)),m(13),p("ngForOf",n.eatingHabitsOptions),m(7),p("ngForOf",n.sleepScheduleOptions),m(7),p("ngForOf",n.recentActivityOptions),m(7),p("ngForOf",n.timeOfDayOptions),m(7),p("ngForOf",n.currentMoodOptions),m(7),p("ngForOf",n.willingToCompensateOptions),m(7),p("ngForOf",n.sensitivityLevelOptions),m(9),p("ngForOf",n.cravingReasonOptions),m(2),p("ngIf",n.isProfileNameUnique()&&!n.selectedProfile),m(),p("ngIf",n.selectedProfile),m(),p("disabled",n.userForm.invalid||!n.selectedProfile&&!n.isProfileNameUnique())}},dependencies:[Ze,Ce,qe,Ye,z,Ue,He,Ge,U,be,Je,Kt,$e,Wt,Bt,P,F,I,N,$,A,D,lt],styles:["[_nghost-%COMP%]     markdown h1, [_nghost-%COMP%]     markdown h2, [_nghost-%COMP%]     markdown h3{margin-top:.75rem;margin-bottom:.5rem;font-size:1rem;line-height:1.5rem;font-weight:700;--tw-text-opacity: 1;color:color-mix(in srgb,var(--colors-primary-700),transparent calc(100% - 100% * var(--tw-text-opacity)))}@media (min-width: 640px){[_nghost-%COMP%]     markdown h1, [_nghost-%COMP%]     markdown h2, [_nghost-%COMP%]     markdown h3{margin-top:1rem;font-size:1.125rem;line-height:1.75rem}}[_nghost-%COMP%]     markdown ul{margin-bottom:.75rem;list-style-type:disc;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]     markdown ul{margin-bottom:1rem;padding-left:1.5rem}}[_nghost-%COMP%]     markdown li{margin-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@media (min-width: 640px){[_nghost-%COMP%]     markdown li{font-size:1rem;line-height:1.5rem}}[_nghost-%COMP%]     markdown p{margin-bottom:.5rem;font-size:.875rem;line-height:1.25rem}@media (min-width: 640px){[_nghost-%COMP%]     markdown p{margin-bottom:.75rem;font-size:1rem;line-height:1.5rem}}[_nghost-%COMP%]     markdown a{text-decoration:underline;text-underline-offset:3px;text-decoration-thickness:1px}[_nghost-%COMP%]     markdown a:hover, [_nghost-%COMP%]     markdown a:focus{--tw-text-opacity: 1;color:color-mix(in srgb,var(--colors-primary-500),transparent calc(100% - 100% * var(--tw-text-opacity)))}@media (max-width: 640px){[_nghost-%COMP%]     markdown{font-size:.875rem;line-height:1.25rem}[_nghost-%COMP%]     markdown h1, [_nghost-%COMP%]     markdown h2, [_nghost-%COMP%]     markdown h3{font-size:1rem;line-height:1.5rem}}"]});let a=s;return a})();function Kr(a,s){a&1&&(t(0,"div",8),l(1,"Profile"),i())}function Rr(a,s){if(a&1){let o=b();t(0,"app-custom-button",9),_("onButtonClickEvent",function(){h(o);let r=f();return x(r.edit.emit())}),i()}}function Hr(a,s){if(a&1){let o=b();t(0,"app-custom-button",10),_("onButtonClickEvent",function(){h(o);let r=f();return x(r.reset.emit())}),i()}}function zr(a,s){if(a&1){let o=b();t(0,"app-custom-button",11),_("onButtonClickEvent",function(){h(o);let r=f();return x(r.toggleCollapse())}),i()}if(a&2){let o=f();p("iconClass",o.collapsed?"fa fa-chevron-right":"fa fa-chevron-left")}}function Ur(a,s){if(a&1&&(t(0,"div",12)(1,"div",13)(2,"span",14),d(3,"i",15),i(),t(4,"span",16),l(5,"Name:"),i(),t(6,"span",17),l(7),i()(),t(8,"div",13)(9,"span",14),d(10,"i",18),i(),t(11,"span",16),l(12,"Age:"),i(),t(13,"span",19),l(14),i()(),t(15,"div",13)(16,"span",14),d(17,"i",20),i(),t(18,"span",16),l(19,"Gender:"),i(),t(20,"span",17),l(21),i()(),t(22,"div",13)(23,"span",14),d(24,"i",21),i(),t(25,"span",16),l(26,"Height:"),i(),t(27,"span",19),l(28),i()(),t(29,"div",13)(30,"span",14),d(31,"i",22),i(),t(32,"span",16),l(33,"Weight:"),i(),t(34,"span",19),l(35),i()(),t(36,"div",13)(37,"span",14),d(38,"i",23),i(),t(39,"span",16),l(40,"Goal:"),i(),t(41,"span",17),l(42),i()(),t(43,"div",13)(44,"span",14),d(45,"i",24),i(),t(46,"span",16),l(47,"Activity:"),i(),t(48,"span",17),l(49),i()(),t(50,"div",13)(51,"span",14),d(52,"i",25),i(),t(53,"span",16),l(54,"Preference:"),i(),t(55,"span",26),l(56),i()(),t(57,"div",13)(58,"span",14),d(59,"i",27),i(),t(60,"span",16),l(61,"Health:"),i(),t(62,"span",28),l(63),i()(),t(64,"div",13)(65,"span",14),d(66,"i",29),i(),t(67,"span",16),l(68,"Eating Habits:"),i(),t(69,"span",19),l(70),i()(),t(71,"div",13)(72,"span",14),d(73,"i",30),i(),t(74,"span",16),l(75,"Sleep Schedule:"),i(),t(76,"span",19),l(77),i()(),t(78,"div",13)(79,"span",14),d(80,"i",31),i(),t(81,"span",16),l(82,"Craving Reason:"),i(),t(83,"span",28),l(84),i()(),t(85,"div",13)(86,"span",14),d(87,"i",32),i(),t(88,"span",16),l(89,"Recent Activity:"),i(),t(90,"span",19),l(91),i()(),t(92,"div",13)(93,"span",14),d(94,"i",33),i(),t(95,"span",16),l(96,"Time of Day:"),i(),t(97,"span",19),l(98),i()(),t(99,"div",13)(100,"span",14),d(101,"i",34),i(),t(102,"span",16),l(103,"Current Mood:"),i(),t(104,"span",19),l(105),i()(),t(106,"div",13)(107,"span",14),d(108,"i",35),i(),t(109,"span",16),l(110,"Willing to Compensate:"),i(),t(111,"span",19),l(112),i()(),t(113,"div",13)(114,"span",14),d(115,"i",36),i(),t(116,"span",16),l(117,"Sensitivity Level:"),i(),t(118,"span",19),l(119),i()(),t(120,"div",13)(121,"span",14),d(122,"i",37),i(),t(123,"span",16),l(124,"Current Cuisine:"),i(),t(125,"span",19),l(126),i()(),t(127,"div",13)(128,"span",14),d(129,"i",33),i(),t(130,"span",16),l(131,"Last Meal:"),i(),t(132,"span",19),l(133),i()(),t(134,"div",13)(135,"span",14),d(136,"i",38),i(),t(137,"span",16),l(138,"OpenAI Key:"),i(),t(139,"span",39),l(140),i()()()),a&2){let o=f();m(7),v(o.profile.name||"-"),m(7),v(o.profile.age||"-"),m(7),v(o.profile.gender||"-"),m(7),v(o.profile.heightCm?o.profile.heightCm+" cm":"-"),m(7),v(o.profile.weightKg?o.profile.weightKg+" kg":"-"),m(7),v(o.profile.dietaryGoal||"-"),m(7),v(o.profile.activityLevel||"-"),m(7),v(o.profile.dietaryPreference||"-"),m(7),v(o.profile.healthConditions&&o.profile.healthConditions.length>0?o.profile.healthConditions.join(", "):"-"),m(7),v(o.profile.eatingHabits||"-"),m(7),v(o.profile.sleepSchedule||"-"),m(7),v(o.profile.cravingReason&&o.profile.cravingReason.length>0?o.profile.cravingReason.join(", "):"-"),m(7),v(o.profile.recentActivity||"-"),m(7),v(o.profile.timeOfDay||"-"),m(7),v(o.profile.currentMood||"-"),m(7),v(o.profile.willingToCompensate||"-"),m(7),v(o.profile.sensitivityLevel||"-"),m(7),v(o.profile.currentCuisine||"-"),m(7),v(o.profile.timeSinceLastMeal?o.profile.timeSinceLastMeal+" hour(s) ago":"-"),m(7),v(o.profile.openAIApiKey?"****"+o.profile.openAIApiKey.slice(-4):"-")}}var xi=(()=>{let s=class s{constructor(e){this.localStorage=e,this.edit=new q,this.reset=new q,this.collapsed=!1,this.COLLAPSE_KEY="summaryCardCollapsed"}ngOnInit(){let e=this.localStorage.getItem(this.COLLAPSE_KEY);e!==null&&(this.collapsed=e==="true")}toggleCollapse(){this.collapsed=!this.collapsed,this.localStorage.setItem(this.COLLAPSE_KEY,String(this.collapsed))}isMobile(){return window.matchMedia&&window.matchMedia("(max-width: 768px)").matches}};s.\u0275fac=function(r){return new(r||s)(w(ve))},s.\u0275cmp=T({type:s,selectors:[["app-summary-card"]],inputs:{profile:"profile"},outputs:{edit:"edit",reset:"reset"},decls:8,vars:7,consts:[[1,"summary-sidebar","h-full","max-md:h-auto","max-md:w-full"],[1,"sidebar-header","flex","items-center","justify-between","mb-1","p-4","shadow-sm","max-md:flex-col","max-md:gap-2","max-md:p-2"],["class","font-semibold text-base text-primary-800",4,"ngIf"],[1,"flex","gap-2","items-center","h-full","w-full","justify-center","max-md:justify-start"],["buttonName","Edit","iconClass","fa fa-pencil","class","text-xs",3,"onButtonClickEvent",4,"ngIf"],["buttonName","Reset","iconClass","fa fa-refresh","class","text-xs",3,"onButtonClickEvent",4,"ngIf"],["class","text-xs",3,"iconClass","onButtonClickEvent",4,"ngIf"],["class","flex gap-3 flex-col h-full text-sm text-primary-900 mt-2 pb-2 px-4 overflow-y-scroll max-md:overflow-visible max-md:px-2 max-md:pb-1 max-md:mt-1",4,"ngIf"],[1,"font-semibold","text-base","text-primary-800"],["buttonName","Edit","iconClass","fa fa-pencil",1,"text-xs",3,"onButtonClickEvent"],["buttonName","Reset","iconClass","fa fa-refresh",1,"text-xs",3,"onButtonClickEvent"],[1,"text-xs",3,"onButtonClickEvent","iconClass"],[1,"flex","gap-3","flex-col","h-full","text-sm","text-primary-900","mt-2","pb-2","px-4","overflow-y-scroll","max-md:overflow-visible","max-md:px-2","max-md:pb-1","max-md:mt-1"],[1,"flex","items-center","gap-3","min-w-0","max-md:gap-1","max-md:text-xs","max-md:flex-wrap"],[1,"bg-primary-100","text-primary-700","rounded-full","p-2","flex","items-center","justify-center"],[1,"fa","fa-user"],[1,"font-semibold","text-primary-700"],[1,"ml-1","truncate","max-md:max-w-[6rem]"],[1,"fa","fa-cake-candles"],[1,"ml-1"],[1,"fa","fa-venus-mars"],[1,"fa","fa-ruler-vertical"],[1,"fa","fa-weight"],[1,"fa","fa-bullseye"],[1,"fa","fa-running"],[1,"fa","fa-leaf"],[1,"ml-1","break-words","max-md:max-w-[6rem]"],[1,"fa","fa-heartbeat"],[1,"ml-1","break-words","max-md:max-w-[16rem]"],[1,"fa","fa-utensils"],[1,"fa","fa-bed"],[1,"fa","fa-question-circle"],[1,"fa","fa-bolt"],[1,"fa","fa-clock"],[1,"fa","fa-smile"],[1,"fa","fa-dumbbell"],[1,"fa","fa-fire"],[1,"fa","fa-globe"],[1,"fa","fa-key"],[1,"ml-1","text-xs","truncate","max-md:max-w-[6rem]"]],template:function(r,n){r&1&&(t(0,"div",0)(1,"div",1),c(2,Kr,2,0,"div",2),t(3,"div",3),c(4,Rr,1,0,"app-custom-button",4)(5,Hr,1,0,"app-custom-button",5)(6,zr,1,1,"app-custom-button",6),i()(),c(7,Ur,141,20,"div",7),i()),r&2&&(Tt("collapsed",n.collapsed),m(2),p("ngIf",!n.collapsed),m(2),p("ngIf",!n.collapsed&&!n.isMobile()),m(),p("ngIf",!n.collapsed&&!n.isMobile()),m(),p("ngIf",!n.isMobile()),m(),p("ngIf",!n.collapsed))},dependencies:[P,I,A,D],styles:[".summary-sidebar[_ngcontent-%COMP%]{transition:width .3s cubic-bezier(.4,0,.2,1),min-width .3s cubic-bezier(.4,0,.2,1);width:340px;min-width:340px;max-width:100vw;background:#f8fafc;border-radius:.75rem;box-shadow:0 2px 8px #0000000a;border:1px solid #cbd5e1;overflow:hidden;display:flex;flex-direction:column;background-image:linear-gradient(to top,var(--tw-gradient-stops));--tw-gradient-from: color-mix(in srgb, var(--colors-primary-50), transparent 0% ) var(--tw-gradient-from-position);--tw-gradient-to: color-mix(in srgb, var(--colors-primary-50), transparent 100% ) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #fff var(--tw-gradient-via-position), var(--tw-gradient-to)}.summary-sidebar.collapsed[_ngcontent-%COMP%]{width:60px;min-width:55px;padding-left:0;padding-right:0;background-image:linear-gradient(to top,var(--tw-gradient-stops));--tw-gradient-from: color-mix(in srgb, var(--colors-primary-50), transparent 0% ) var(--tw-gradient-from-position);--tw-gradient-to: color-mix(in srgb, var(--colors-primary-50), transparent 100% ) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #fff var(--tw-gradient-via-position), var(--tw-gradient-to)}.sidebar-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #cbd5e1;border-radius:.75rem .75rem 0 0;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.summary-sidebar[_ngcontent-%COMP%]   .fa-chevron-left[_ngcontent-%COMP%], .summary-sidebar[_ngcontent-%COMP%]   .fa-chevron-right[_ngcontent-%COMP%]{font-size:1.2rem;color:#64748b}@media (max-width: 640px){.summary-sidebar[_ngcontent-%COMP%]{width:100vw;min-width:0;max-width:100vw;border-radius:.5rem;padding-left:0;padding-right:0}.sidebar-header[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.95rem}.summary-sidebar[_ngcontent-%COMP%]   .fa-chevron-left[_ngcontent-%COMP%], .summary-sidebar[_ngcontent-%COMP%]   .fa-chevron-right[_ngcontent-%COMP%], .summary-sidebar[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:1rem}.summary-sidebar[_ngcontent-%COMP%]   [class*=font-semibold][_ngcontent-%COMP%]{font-size:.95rem}.summary-sidebar[_ngcontent-%COMP%]   .flex.gap-3.flex-col[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.summary-sidebar[_ngcontent-%COMP%]   .ml-1[_ngcontent-%COMP%]{margin-left:.25rem!important;font-size:.95rem}.summary-sidebar[_ngcontent-%COMP%]   .break-words[_ngcontent-%COMP%], .summary-sidebar[_ngcontent-%COMP%]   .truncate[_ngcontent-%COMP%]{max-width:100%!important;word-break:break-word}}"]});let a=s;return a})();var yi=(()=>{let s=class s{constructor(){this.apiUrl="https://api.openai.com/v1/chat/completions",this.defaultModel="gpt-4o"}formatUserProfile(e){let r=[];return e.name&&r.push(`- Name: ${e.name}`),e.age&&r.push(`- Age: ${e.age}`),e.gender&&r.push(`- Gender: ${e.gender}`),e.heightCm&&r.push(`- Height: ${e.heightCm} cm`),e.weightKg&&r.push(`- Weight: ${e.weightKg} kg`),e.dietaryGoal&&r.push(`- Dietary Goal: ${e.dietaryGoal}`),e.activityLevel&&r.push(`- Activity Level: ${e.activityLevel}`),e.dietaryPreference&&r.push(`- Dietary Preference: ${e.dietaryPreference}`),e.healthConditions&&e.healthConditions.length>0&&r.push(`- Health Conditions: ${e.healthConditions.join(", ")}`),e.timeSinceLastMeal!==void 0&&r.push(`- Time Since Last Meal: ${e.timeSinceLastMeal} hours`),e.eatingHabits&&r.push(`- Eating Habits: ${e.eatingHabits}`),e.sleepSchedule&&r.push(`- Sleep Schedule: ${e.sleepSchedule}`),e.cravingReason&&e.cravingReason.length>0&&r.push(`- Craving Reason: ${e.cravingReason.join(", ")}`),e.recentActivity&&r.push(`- Recent Activity: ${e.recentActivity}`),e.timeOfDay&&r.push(`- Time of Day: ${e.timeOfDay}`),e.currentMood&&r.push(`- Current Mood: ${e.currentMood}`),e.willingToCompensate&&r.push(`- Willing to Compensate: ${e.willingToCompensate}`),e.sensitivityLevel&&r.push(`- Sensitivity Level: ${e.sensitivityLevel}`),e.currentCuisine&&r.push(`- Current Cuisine: ${e.currentCuisine}`),r.join(`
`)}buildSystemPrompt(e){return{role:"system",content:`
  You are a sassy, science-backed AI nutritionist. Use humor, wit, and facts to answer food-related questions.
  
  Always factor in the user's profile:
  ${this.formatUserProfile(e)}
  
  Your job is to judge the user's cravings in a funny but scientifically sound way.
  
  \u{1F3AF} **Important formatting rules (Markdown output only):**
  - Start with a bolded one-liner verdict (e.g., "**Verdict:** \u{1F355} You can... but should you?")
  - Follow up with 2-3 witty, detailed bullet points with reasoning
  - If appropriate, end with a cheeky "Tip of the Day" in italics
  
  Keep it engaging, no dry health advice!
  
  Respond only in **Markdown**.
      `.trim()}}askAI(y,j,K,R){return se(this,arguments,function*(e,r,n,u,g=this.defaultModel){let Q=[this.buildSystemPrompt(n),...u||[],{role:"user",content:e}],de={model:g,messages:Q,temperature:.9};try{let G=yield fetch(this.apiUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(de)});if(!G.ok){let ce=yield G.json();throw new Error(ce?.error?.message||"OpenAI API call failed")}return(yield G.json()).choices?.[0]?.message?.content?.trim()||"No response from AI."}catch(G){throw console.error("[OpenAIService] Error:",G),new Error(`OpenAI error: ${G.message}`)}})}};s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=ue({token:s,factory:s.\u0275fac,providedIn:"root"});let a=s;return a})();var $r=["chatMessagesContainer"];function Gr(a,s){a&1&&(t(0,"span",19),l(1,"\u{1F464}"),i())}function qr(a,s){a&1&&(t(0,"span",20),l(1,"\u{1F916}"),i())}function Yr(a,s){if(a&1&&(t(0,"div",21),l(1),V(2,"date"),i()),a&2){let o=f().$implicit;m(),v(Y(2,1,o.timestamp,"shortTime"))}}function Jr(a,s){if(a&1&&(ge(0),t(1,"div",11)(2,"div",12)(3,"div",13),c(4,Gr,2,0,"span",14)(5,qr,2,0,"span",15),i(),t(6,"div",16),d(7,"markdown",17),c(8,Yr,3,4,"div",18),i()()(),fe()),a&2){let o=s.$implicit;m(),p("ngClass",o.sender==="user"?"justify-end":"justify-start"),m(),p("ngClass",o.sender==="user"?"flex-row-reverse":"flex-row"),m(2),p("ngIf",o.sender==="user"),m(),p("ngIf",o.sender==="ai"),m(),p("ngClass",o.sender==="user"?"bg-primary-100 text-primary-800":"bg-primary-50 text-primary-700"),m(),p("data",o.message),m(),p("ngIf",o.timestamp)}}function Qr(a,s){a&1&&(t(0,"div",22)(1,"div",23)(2,"span",20),l(3,"\u{1F916}"),i(),t(4,"div",24),d(5,"div",25),i()()())}function Zr(a,s){if(a&1&&(t(0,"div",26),l(1),i()),a&2){let o=f();m(),v(o.error())}}function Xr(a,s){if(a&1){let o=b();t(0,"form",27),_("ngSubmit",function(){h(o);let r=f();return x(r.sendMessage())}),t(1,"input",28),E("ngModelChange",function(r){h(o);let n=f();return M(n.userInputValue,r)||(n.userInputValue=r),x(r)}),i(),t(2,"button",29),l(3," Send "),d(4,"i",30),i()()}if(a&2){let o=f();m(),p("disabled",o.loading()||o.userMessageLimitReached),S("ngModel",o.userInputValue),m(),p("disabled",o.loading()||!o.userInputValue.trim()||o.userMessageLimitReached)}}function ea(a,s){if(a&1){let o=b();t(0,"div",31)(1,"app-custom-button",32),_("onButtonClickEvent",function(){h(o);let r=f();return x(r.askAnother())}),i(),t(2,"app-custom-button",33),_("onButtonClickEvent",function(){h(o);let r=f();return x(r.clearChat())}),i()()}if(a&2){let o=f();m(),p("disabled",o.userMessageLimitReached)}}var _i=(()=>{let s=class s{constructor(e,r,n,u){this.localStorage=e,this.profileService=r,this.cdr=n,this.platformId=u,this.clearAll=new q,this.messages=te([]),this.userInputValue="",this.loading=te(!1),this.error=te(null),this.showCTAs=te(!1),this.openAIService=new yi,L(this.platformId)&&It(()=>{this.messages(),setTimeout(()=>{this.cdr&&this.cdr.detectChanges(),this.scrollToBottom()},0)})}ngOnInit(){this.loadMessagesFromStorage()}ngAfterViewInit(){setTimeout(()=>this.scrollToBottom(),0)}getChatStorageKey(){return this.profileService.getChatStorageKey(this.profile.name)}loadMessagesFromStorage(){let e=this.localStorage.getItem(this.getChatStorageKey());if(e)try{let r=JSON.parse(e);this.messages.set(r),r.length>0&&r[r.length-1].sender==="ai"&&this.showCTAs.set(!0)}catch{}else this.messages.set([])}saveMessagesToStorage(){this.localStorage.setItem(this.getChatStorageKey(),JSON.stringify(this.messages()))}sendMessage(){return se(this,null,function*(){if(this.messages().filter(n=>n.sender==="user").length>=3){this.error.set("You can only send 3 messages per chat. Please clear the chat to continue.");return}let r=this.userInputValue.trim();if(r){this.messages.update(n=>[...n,{sender:"user",message:r,timestamp:Date.now()}]),this.saveMessagesToStorage(),this.loading.set(!0),this.error.set(null),this.showCTAs.set(!1);try{let n=this.getChatHistoryForAI(),u=yield this.openAIService.askAI(r,this.profile.openAIApiKey,this.profile,n);this.messages.update(g=>[...g,{sender:"ai",message:u,timestamp:Date.now()}]),this.saveMessagesToStorage(),this.showCTAs.set(!0)}catch{this.error.set("Failed to get a response from OpenAI.")}finally{this.loading.set(!1),this.userInputValue=""}}})}getChatHistoryForAI(){return this.messages().map(e=>({role:e.sender==="user"?"user":"assistant",content:e.message}))}get userMessageLimitReached(){return this.messages().filter(e=>e.sender==="user").length>=3}askAnother(){this.userMessageLimitReached||(this.userInputValue="",this.showCTAs.set(!1))}clearChat(){this.messages.set([]),this.saveMessagesToStorage(),this.showCTAs.set(!1),this.userInputValue="",this.error.set(null)}scrollToBottom(){if(this.chatMessagesContainer)try{this.chatMessagesContainer.nativeElement.scrollTop=this.chatMessagesContainer.nativeElement.scrollHeight}catch{}}};s.\u0275fac=function(r){return new(r||s)(w(ve),w(le),w(Be),w(ie))},s.\u0275cmp=T({type:s,selectors:[["app-chat"]],viewQuery:function(r,n){if(r&1&&Ve($r,5),r&2){let u;Ne(u=je())&&(n.chatMessagesContainer=u.first)}},inputs:{profile:"profile"},outputs:{clearAll:"clearAll"},decls:13,vars:5,consts:[["chatMessagesContainer",""],[1,"w-full","h-full","mx-auto","border","border-primary-200","rounded-xl","p-0","shadow","flex","flex-col","gap-4","bg-gradient-to-t","from-primary-50","via-white","max-md:rounded-lg","max-md:gap-2","max-md:border","max-md:p-0"],[1,"sticky","top-0","z-10","bg-gradient-to-r","from-primary-100/90","to-primary-50/90","border-b","border-primary-200","rounded-t-xl","flex","items-center","gap-2","px-6","py-4","max-md:px-3","max-md:py-2"],[1,"text-2xl","max-md:text-xl"],[1,"font-bold","text-lg","text-primary-800","tracking-wide","max-md:text-base"],[1,"h-full","overflow-y-auto","flex","flex-col","gap-2","mb-2","pr-2","px-6","pt-2","max-md:px-2","max-md:pt-1","max-md:mb-1"],[4,"ngFor","ngForOf"],["class","flex w-full justify-start mt-2 max-md:mt-1",4,"ngIf"],["class","text-red-600 text-sm font-medium px-6 max-md:px-2 max-md:text-xs",4,"ngIf"],["class","flex gap-2 p-4 m-2 bg-white rounded-2xl shadow-sm border border-solid border-primary-100 max-md:p-2 max-md:m-1 max-md:rounded-lg",3,"ngSubmit",4,"ngIf"],["class","flex gap-1 p-4 m-2 bg-white rounded-2xl shadow-sm border border-solid border-primary-100 max-md:p-2 max-md:m-1 max-md:rounded-lg",4,"ngIf"],[1,"flex","w-full",3,"ngClass"],[1,"flex","items-end","gap-2","max-w-[80%]","max-md:max-w-[95%]",3,"ngClass"],[1,"flex-shrink-0"],["class","w-8 h-8 rounded-full bg-primary-200 flex items-center justify-center text-xl max-md:w-7 max-md:h-7 max-md:text-lg",4,"ngIf"],["class","w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-xl max-md:w-7 max-md:h-7 max-md:text-lg",4,"ngIf"],[1,"px-4","py-2","rounded-2xl","text-base","shadow-sm","max-md:px-2","max-md:py-1","max-md:text-sm",3,"ngClass"],[3,"data"],["class","text-xs text-gray-400 mt-1 text-right max-md:text-[10px] max-md:mt-0.5",4,"ngIf"],[1,"w-8","h-8","rounded-full","bg-primary-200","flex","items-center","justify-center","text-xl","max-md:w-7","max-md:h-7","max-md:text-lg"],[1,"w-8","h-8","rounded-full","bg-primary-100","flex","items-center","justify-center","text-xl","max-md:w-7","max-md:h-7","max-md:text-lg"],[1,"text-xs","text-gray-400","mt-1","text-right","max-md:text-[10px]","max-md:mt-0.5"],[1,"flex","w-full","justify-start","mt-2","max-md:mt-1"],[1,"flex","items-end","gap-2","max-w-[80%]","max-md:max-w-[95%]"],[1,"bg-primary-50","rounded-2xl","px-4","py-2","min-w-[120px]","min-h-[32px]","animate-pulse","flex","items-center","max-md:px-2","max-md:min-w-[80px]","max-md:min-h-[24px]"],[1,"w-24","h-4","bg-primary-200","rounded","shimmer-block","max-md:w-16","max-md:h-3"],[1,"text-red-600","text-sm","font-medium","px-6","max-md:px-2","max-md:text-xs"],[1,"flex","gap-2","p-4","m-2","bg-white","rounded-2xl","shadow-sm","border","border-solid","border-primary-100","max-md:p-2","max-md:m-1","max-md:rounded-lg",3,"ngSubmit"],["name","chatInput","placeholder","Can I eat 2 samosas at 10PM?","autocomplete","off","required","",1,"flex-1","px-3","py-2","text-base","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-gray-400","focus:outline-none","focus:ring-1","focus:ring-primary-500","max-md:px-2","max-md:py-1","max-md:text-sm",3,"ngModelChange","disabled","ngModel"],["type","submit",1,"px-4","py-2","rounded-2xl","transition-colors","duration-200","text-white","bg-primary-500","hover:bg-primary-700","text-base","font-medium","disabled:bg-gray-300","disabled:text-gray-400","disabled:cursor-not-allowed","max-md:px-2","max-md:py-1","max-md:text-sm",3,"disabled"],[1,"ml-1","fa","fa-paper-plane","text-white"],[1,"flex","gap-1","p-4","m-2","bg-white","rounded-2xl","shadow-sm","border","border-solid","border-primary-100","max-md:p-2","max-md:m-1","max-md:rounded-lg"],["buttonName","Ask Another Question","iconClass","fa fa-comment",3,"onButtonClickEvent","disabled"],["buttonName","Clear Chat","iconClass","fa fa-eraser",3,"onButtonClickEvent"]],template:function(r,n){r&1&&(t(0,"div",1)(1,"div",2)(2,"span",3),l(3,"\u{1F916}"),i(),t(4,"span",4),l(5,"Eat It or Beat It"),i()(),t(6,"div",5,0),c(8,Jr,9,7,"ng-container",6)(9,Qr,6,0,"div",7),i(),c(10,Zr,2,1,"div",8)(11,Xr,5,3,"form",9)(12,ea,3,1,"div",10),i()),r&2&&(m(8),p("ngForOf",n.messages()),m(),p("ngIf",n.loading()),m(),p("ngIf",n.error()),m(),p("ngIf",!n.showCTAs()),m(),p("ngIf",n.showCTAs()))},dependencies:[P,re,F,I,N,Ce,z,U,be,Qe,$,ze,A,D,mt,st,ye],styles:[".chat-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#e0e7ef)}.shimmer-block[_ngcontent-%COMP%]{background:linear-gradient(90deg,#e0e0e0 25%,#f3f3f3,#e0e0e0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.2s infinite linear}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}"]});let a=s;return a})();function ta(a,s){if(a&1){let o=b();t(0,"app-user-form",8),_("profileSaved",function(r){h(o);let n=f();return x(n.onProfileSaved(r))}),i()}}function ia(a,s){if(a&1){let o=b();t(0,"div",16),_("click",function(){h(o);let r=f(2);return x(r.showProfileSheet=!1)}),t(1,"div",17),_("click",function(r){return h(o),x(r.stopPropagation())}),t(2,"div",18)(3,"span",19),l(4,"Profile"),i(),t(5,"button",20),_("click",function(){h(o);let r=f(2);return x(r.showProfileSheet=!1)}),d(6,"i",21),i()(),d(7,"app-summary-card",22),i()()}if(a&2){let o=f().ngIf;m(7),p("profile",o)}}function na(a,s){if(a&1){let o=b();ge(0),t(1,"button",9),_("click",function(){h(o);let r=f();return x(r.showProfileSheet=!0)}),d(2,"i",10),i(),c(3,ia,8,1,"div",11),t(4,"div",12)(5,"app-summary-card",13,0),_("edit",function(){h(o);let r=f();return x(r.onEdit())})("reset",function(){h(o);let r=f();return x(r.onReset())}),i(),t(7,"div",14)(8,"app-chat",15),_("clearAll",function(){h(o);let r=f();return x(r.onReset())}),i()()(),fe()}if(a&2){let o=s.ngIf,e=Pe(6),r=f();m(3),p("ngIf",r.showProfileSheet),m(2),p("ngClass",e.collapsed?"w-[55px] max-md:w-full":"w-[340px] max-md:w-full")("profile",o),m(3),p("profile",o)}}var ct=(()=>{let s=class s{constructor(e){this.profileService=e,this.headerLinkItems=[{name:"All Projects",isActive:!1,routeLink:"/home/projects"},{name:"Can I Eat This?",isActive:!0}],this.profile=te(null),this.editing=te(!0),this.showProfileSheet=!1;let r=this.profileService.loadProfile();this.profile.set(r),this.editing.set(!this.isProfileComplete(r))}isProfileComplete(e){return e?!!(e.name&&e.age>0&&e.heightCm>0&&e.weightKg>0&&e.openAIApiKey):!1}onProfileSaved(e){this.profile.set(e),this.editing.set(!this.isProfileComplete(e))}onEdit(){this.editing.set(!0)}onReset(){this.profileService.clearProfile(),this.profile.set(null),this.editing.set(!0)}};s.\u0275fac=function(r){return new(r||s)(w(le))},s.\u0275cmp=T({type:s,selectors:[["app-can-i-eat-this"]],features:[ne([le])],decls:7,vars:3,consts:[["summaryCard",""],[1,"bg-white","flex","h-full","flex-col","px-4","py-2"],[1,"flex-none","flex","items-center","justify-between","mb-4"],[3,"headerLinkItems"],[1,"flex-1","flex","flex-col","items-center","justify-center","h-[calc(100vh-15rem)]","overflow-y-auto"],[1,"w-full","h-full"],[3,"profileSaved",4,"ngIf"],[4,"ngIf"],[3,"profileSaved"],["aria-label","Show Profile",1,"fixed","bottom-6","right-6","z-30","bg-primary-500","text-white","rounded-full","p-4","shadow-lg","max-md:flex","hidden","items-center","justify-center",3,"click"],[1,"fa","fa-user","text-xl"],["class","fixed inset-0 z-40 flex items-end max-md:flex max-md:items-end","style","background: rgba(0,0,0,0.3);",3,"click",4,"ngIf"],[1,"flex","flex-row","gap-0","w-full","items-stretch","max-md:flex-col","max-md:gap-4","h-[calc(100vh-10rem)]","max-md:h-auto","scroll"],[1,"flex-shrink-0","transition-all","duration-300","mr-4","max-md:mr-0","max-md:mb-4","max-md:hidden",3,"edit","reset","ngClass","profile"],[1,"h-full","flex-1","flex-col","transition-all","duration-300","max-md:w-full","max-md:h-auto"],[3,"clearAll","profile"],[1,"fixed","inset-0","z-40","flex","items-end","max-md:flex","max-md:items-end",2,"background","rgba(0,0,0,0.3)",3,"click"],[1,"w-full","bg-white","rounded-t-2xl","p-4","max-h-[80vh]","overflow-y-auto","shadow-lg",3,"click"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-semibold","text-lg"],["aria-label","Close",1,"text-gray-500","text-2xl",3,"click"],[1,"fa","fa-times"],[3,"profile"]],template:function(r,n){r&1&&(t(0,"div",1)(1,"div",2),d(2,"app-custom-header-link",3),i(),t(3,"div",4)(4,"div",5),c(5,ta,1,0,"app-user-form",6)(6,na,9,4,"ng-container",7),i()()()),r&2&&(m(2),p("headerLinkItems",n.headerLinkItems),m(3),p("ngIf",n.editing()),m(),p("ngIf",!n.editing()&&n.profile()))},dependencies:[X,hi,xi,_i,P,re,I],styles:["[_nghost-%COMP%]   .fa-apple-alt[_ngcontent-%COMP%]{color:#e63946}[_nghost-%COMP%]   .fa-utensils[_ngcontent-%COMP%]{color:#f77f00}"]});let a=s;return a})();var ra=[{path:"",component:pt},{path:"weather-dashboard",component:mi},{path:"todo-list",component:ci},{path:"trip-planner",component:dt},{path:"can-i-eat-this",component:ct}],vi=(()=>{let s=class s{};s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=De({type:s}),s.\u0275inj=Ae({imports:[J.forChild(ra),J]});let a=s;return a})();var $l=(()=>{let s=class s{};s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=De({type:s}),s.\u0275inj=Ae({imports:[P,vi,A,pt,dt,ct]});let a=s;return a})();export{$l as ProjectsModule};
