import{a as he}from"./chunk-QDLFYUNM.js";import"./chunk-JPIELQRY.js";import{f as fe,g as ge,h as xe,i as A,l as _e,m as U}from"./chunk-MY7J3K37.js";import"./chunk-QYRHQQ6O.js";import{Ab as M,Ca as m,Cb as f,Ea as s,Eb as ce,F as j,Fb as N,Ia as oe,L as ne,M as E,Mb as de,Nb as pe,O as ie,Oa as r,Ob as L,Pa as o,Pb as me,Qa as c,Qb as ue,Sa as O,Sb as C,U as g,V as W,Va as x,Xa as p,Y as P,Z as D,db as l,e as Y,eb as w,f as Z,fa as re,fb as y,gb as T,hb as ae,ib as se,jb as le,k as Q,kb as F,l as J,lb as _,m as q,na as K,oa as a,pa as v,v as G,w as ee,yb as z,z as te,zb as b}from"./chunk-4MJ6YRLL.js";function Pe(n,d){if(n&1&&(r(0,"div",2)(1,"div",3),c(2,"i",4),r(3,"div",5),l(4),o(),c(5,"i",6),o()()),n&2){let e=d.$implicit;a(3),s("routerLink",e.routeLink),a(),y(" ",e.name," ")}}var $=(()=>{class n{constructor(){this.headerLinkItems=[]}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=g({type:n,selectors:[["app-custom-header-link"]],inputs:{headerLinkItems:"headerLinkItems"},standalone:!0,features:[_],decls:2,vars:1,consts:[[1,"flex","items-center","gap-8"],["class","flex items-center cursor-pointer group",4,"ngFor","ngForOf"],[1,"flex","items-center","cursor-pointer","group"],[1,"flex","items-center","gap-2"],[1,"fa-regular","fa-file-lines","text-xl","text-primary-700"],["routerLinkActive","!text-primary-700 border-b-2 border-solid border-primary-700",1,"text-base","text-black","hover:text-primary-600","focus:outline-none",3,"routerLink"],[1,"fa-solid","fa-chevron-down","text-xs","text-primary-700"]],template:function(t,i){t&1&&(r(0,"div",0),m(1,Pe,6,2,"div",1),o()),t&2&&(a(),s("ngForOf",i.headerLinkItems))},dependencies:[f,b,C,me,ue],encapsulation:2})}}return n})();function De(n,d){n&1&&(r(0,"span",10),l(1,"Under Development"),o())}function Oe(n,d){if(n&1){let e=O();r(0,"a",11),x("click",function(i){return P(e),D(i.stopPropagation())}),c(1,"i",12),o()}if(n&2){let e=p();s("href",e.projectDetails.githubUrl,K)}}function Le(n,d){if(n&1){let e=O();r(0,"a",11),x("click",function(i){return P(e),D(i.stopPropagation())}),c(1,"i",13),o()}if(n&2){let e=p();s("href",e.projectDetails.liveUrl,K)}}var ve=(()=>{class n{constructor(e){this.router=e}navigateToProject(){this.router.navigate([this.projectDetails.path])}static{this.\u0275fac=function(t){return new(t||n)(v(L))}}static{this.\u0275cmp=g({type:n,selectors:[["app-project-card"]],inputs:{projectDetails:"projectDetails"},standalone:!0,features:[_],decls:14,vars:6,consts:[[1,"group","rounded-2xl","p-4","border","border-solid","border-primary-700","h-fit","cursor-pointer","flex","flex-col","w-full","hover:bg-primary-50/20","hover:scale-105","transition-transform","relative",3,"click"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],[1,"text-2xl","text-primary-700","mr-2",3,"ngClass"],[1,"text-xl","text-black"],["class","text-sm text-primary-700",4,"ngIf"],[1,"text-gray-500","mt-2"],[1,"mt-4","flex","gap-2"],["target","_blank","class","text-primary-700 hover:text-primary-600",3,"href","click",4,"ngIf"],[1,"absolute","bottom-0","left-0","w-full","p-3","bg-primary-700","text-white","text-center","rounded-b-2xl","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"text-sm","text-primary-700"],["target","_blank",1,"text-primary-700","hover:text-primary-600",3,"click","href"],[1,"fab","fa-github"],[1,"fas","fa-external-link-alt"]],template:function(t,i){t&1&&(r(0,"div",0),x("click",function(){return i.navigateToProject()}),r(1,"div",1)(2,"div",2),c(3,"i",3),r(4,"span",4),l(5),o()(),m(6,De,2,0,"span",5),o(),r(7,"p",6),l(8),o(),r(9,"div",7),m(10,Oe,2,1,"a",8)(11,Le,2,1,"a",8),o(),r(12,"div",9),l(13," Check it out! "),o()()),t&2&&(a(3),s("ngClass",i.projectDetails.icon),a(2),w(i.projectDetails.name),a(),s("ngIf",i.projectDetails.underDevelopment),a(2),w(i.projectDetails.description),a(2),s("ngIf",i.projectDetails.githubUrl),a(),s("ngIf",i.projectDetails.liveUrl))},dependencies:[f,z,M,C],encapsulation:2})}}return n})();function Ie(n,d){if(n&1&&(r(0,"div"),c(1,"app-project-card",5),o()),n&2){let e=d.$implicit;a(),s("projectDetails",e)}}var R=(()=>{class n{constructor(e){this.router=e,this.allProjects=[{name:"Weather Dashboard",path:"home/projects/weather-dashboard",description:"Stay informed about weather conditions with our interactive Weather Dashboard. Search for locations, save your favorites, and get real-time weather updates including temperature, conditions, humidity, and wind speed. The dynamic background changes based on current weather conditions for an immersive experience.",icon:"fas fa-cloud-sun-rain",underDevelopment:!1,githubUrl:"https://github.com/AmanPareek/AmanPareek.com",liveUrl:"https://amanpareek.com/home/projects/weather-dashboard"}],this.headerLinkItems=[{name:"All Projects",isActive:!0}]}ngOnInit(){}static{this.\u0275fac=function(t){return new(t||n)(v(L))}}static{this.\u0275cmp=g({type:n,selectors:[["app-projects"]],standalone:!0,features:[_],decls:6,vars:2,consts:[[1,"h-[calc(100vh-90px)]","max-md:h-[calc(100vh-100px)]","bg-white","flex","w-full","px-4","pb-4","flex-col"],[1,"my-2","flex","items-center","justify-between"],[3,"headerLinkItems"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","rounded-lg","border","border-solid","border-gray-200","p-4","max-md:p-2"],[4,"ngFor","ngForOf"],[3,"projectDetails"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1),c(2,"app-custom-header-link",2),o(),r(3,"div",3),m(4,Ie,2,1,"div",4),o(),c(5,"router-outlet"),o()),t&2&&(a(2),s("headerLinkItems",i.headerLinkItems),a(2),s("ngForOf",i.allProjects))},dependencies:[f,b,C,pe,$,ve],encapsulation:2})}}return n})();var S=(()=>{class n{constructor(e){this.http=e,this.geocodingApiUrl="https://geocoding-api.open-meteo.com/v1/search",this.weatherApiUrl="https://api.open-meteo.com/v1/forecast"}getCurrentLocation(){return new Y(e=>{if(!navigator.geolocation){e.error(new Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(t=>{this.http.get(`${this.geocodingApiUrl}?latitude=${t.coords.latitude}&longitude=${t.coords.longitude}&count=1&language=en&format=json`).subscribe({next:i=>{i.results&&i.results.length>0?e.next(i.results[0].name):e.error(new Error("Location not found"))},error:i=>e.error(i)})},t=>{e.error(new Error("Unable to retrieve your location"))})})}getWeatherData(e){return this.http.get(`${this.geocodingApiUrl}?name=${encodeURIComponent(e)}&count=1&language=en&format=json`).pipe(j(t=>{if(!t.results||t.results.length===0)return J(()=>new Error("Location not found"));let{latitude:i,longitude:u,name:h,admin1:V,country:B}=t.results[0],H=[h];V&&H.push(V),B&&H.push(B);let ke=H.join(", ");return this.http.get(`${this.weatherApiUrl}?latitude=${i}&longitude=${u}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,surface_pressure,visibility,weather_code&daily=sunrise,sunset&timezone=auto`).pipe(q(Se=>this.mapToWeatherData(Se,h,V,B,ke)))}),G(t=>(console.error("Error fetching weather data:",t),J(()=>t))))}searchLocations(e){return!e||e.length<2?Q([]):this.http.get(`${this.geocodingApiUrl}?name=${encodeURIComponent(e)}&count=5&language=en&format=json`).pipe(q(t=>t.results?.map(i=>({name:i.name,state:i.admin1,country:i.country,displayName:[i.name,i.admin1,i.country].filter(Boolean).join(", ")}))||[]),G(()=>Q([])))}mapToWeatherData(e,t,i,u,h){return{location:h||t,state:i,country:u||"",temperature:e.current.temperature_2m,feelsLike:e.current.temperature_2m,humidity:e.current.relative_humidity_2m,windSpeed:e.current.wind_speed_10m,description:this.getWeatherDescription(e.current.weather_code),icon:this.getWeatherIcon(e.current.weather_code),pressure:e.current.surface_pressure,visibility:e.current.visibility,sunrise:new Date(e.daily.sunrise[0]).getTime()/1e3,sunset:new Date(e.daily.sunset[0]).getTime()/1e3}}getWeatherDescription(e){return{0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Foggy",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",71:"Slight snow",73:"Moderate snow",75:"Heavy snow",77:"Snow grains",80:"Slight rain showers",81:"Moderate rain showers",82:"Violent rain showers",85:"Slight snow showers",86:"Heavy snow showers",95:"Thunderstorm",96:"Thunderstorm with slight hail",99:"Thunderstorm with heavy hail"}[e]||"Unknown"}getWeatherIcon(e){return{0:"01d",1:"02d",2:"03d",3:"04d",45:"50d",48:"50d",51:"09d",53:"09d",55:"09d",61:"10d",63:"10d",65:"10d",71:"13d",73:"13d",75:"13d",77:"13d",80:"09d",81:"09d",82:"09d",85:"13d",86:"13d",95:"11d",96:"11d",99:"11d"}[e]||"01d"}static{this.\u0275fac=function(t){return new(t||n)(ie(ce))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function je(n,d){if(n&1){let e=O();r(0,"div",6),x("click",function(){let i=P(e).$implicit,u=p(2);return D(u.selectLocation(i))}),r(1,"div",7),l(2),o(),r(3,"div",8),l(4),o()()}if(n&2){let e=d.$implicit;a(2),w(e.name),a(2),T(" ",e.state?e.state+", ":"","",e.country," ")}}function Ee(n,d){if(n&1&&(r(0,"div",4),m(1,je,5,3,"div",5),o()),n&2){let e=p();a(),s("ngForOf",e.suggestions)}}var ye=(()=>{class n{constructor(e){this.weatherService=e,this.locationAdded=new re,this.searchQuery="",this.suggestions=[],this.searchSubject=new Z,this.searchSubject.pipe(ee(300),te(),j(t=>this.weatherService.searchLocations(t))).subscribe({next:t=>{this.suggestions=t},error:t=>{console.error("Error searching locations:",t),this.suggestions=[]}})}onSearch(){this.searchQuery.trim()?this.searchSubject.next(this.searchQuery):this.suggestions=[]}selectLocation(e){this.locationAdded.emit(e.displayName),this.searchQuery="",this.suggestions=[]}static{this.\u0275fac=function(t){return new(t||n)(v(S))}}static{this.\u0275cmp=g({type:n,selectors:[["app-location-search"]],outputs:{locationAdded:"locationAdded"},standalone:!0,features:[F([S]),_],decls:4,vars:2,consts:[[1,"w-1/2","mx-auto"],[1,"relative"],["type","text","placeholder","Search for a location...",1,"w-full","px-4","py-2","text-lg","rounded-lg","border","border-primary-700","bg-primary-50/10","text-primary-900","placeholder-primary-500","focus:outline-none","focus:ring-2","focus:ring-primary-500",3,"ngModelChange","input","ngModel"],["class","absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg border border-primary-200",4,"ngIf"],[1,"absolute","z-10","w-full","mt-1","bg-white","rounded-lg","shadow-lg","border","border-primary-200"],["class","px-4 py-2 cursor-pointer hover:bg-primary-50",3,"click",4,"ngFor","ngForOf"],[1,"px-4","py-2","cursor-pointer","hover:bg-primary-50",3,"click"],[1,"text-primary-900"],[1,"text-sm","text-gray-500"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"input",2),le("ngModelChange",function(h){return se(i.searchQuery,h)||(i.searchQuery=h),h}),x("input",function(){return i.onSearch()}),o(),m(3,Ee,2,1,"div",3),o()()),t&2&&(a(2),ae("ngModel",i.searchQuery),a(),s("ngIf",i.suggestions.length>0))},dependencies:[f,b,M,A,fe,ge,xe,N],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}}return n})();function We(n,d){if(n&1&&(r(0,"span",9),l(1),o()),n&2){let e=p();a(),T(" ",e.weatherData.state?e.weatherData.state+", ":"","",e.weatherData.country," ")}}function Te(n,d){n&1&&(r(0,"div",10),c(1,"i",11),r(2,"p"),l(3,"Loading weather data..."),o()())}function Fe(n,d){if(n&1&&(r(0,"div",12),c(1,"i",13),r(2,"p"),l(3),o()()),n&2){let e=p();a(3),w(e.error)}}function ze(n,d){if(n&1&&(r(0,"div",14)(1,"div",15),c(2,"i"),o(),r(3,"div",16)(4,"span",17),l(5),o(),r(6,"span",18),l(7),o()(),r(8,"div",19)(9,"div",20),c(10,"i",21),r(11,"span"),l(12),o()(),r(13,"div",20),c(14,"i",22),r(15,"span"),l(16),o()()(),r(17,"div",23),l(18),o()()),n&2){let e=p();a(2),oe(e.getWeatherIcon()),a(3),y("",e.weatherData.temperature,"\xB0C"),a(2),y("Feels like: ",e.weatherData.feelsLike,"\xB0C"),a(5),y("Humidity: ",e.weatherData.humidity,"%"),a(4),y("Wind: ",e.weatherData.windSpeed," m/s"),a(2),y(" ",e.weatherData.description," ")}}var Ce=(()=>{class n{constructor(){this.weatherData=null,this.location="",this.isLoading=!1,this.error=null}getCurrentDate(){return new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}getWeatherIcon(){if(!this.weatherData)return"fa-solid fa-cloud";let e=this.weatherData.description.toLowerCase();return e.includes("clear")||e.includes("sunny")?"fa-solid fa-sun":e.includes("cloud")?"fa-solid fa-cloud":e.includes("rain")?"fa-solid fa-cloud-rain":e.includes("snow")?"fa-solid fa-snowflake":e.includes("thunder")?"fa-solid fa-bolt":e.includes("fog")||e.includes("mist")?"fa-solid fa-smog":"fa-solid fa-cloud"}getWeatherBackground(){if(!this.weatherData)return"";let e=this.weatherData.description.toLowerCase(),t=[];return e.includes("rain")||e.includes("drizzle")?e.includes("heavy")||e.includes("violent")?t.push("weather-heavy-rain"):t.push("weather-rain"):e.includes("snow")?e.includes("heavy")?t.push("weather-heavy-snow"):t.push("weather-snow"):e.includes("cloud")?t.push("weather-clouds"):e.includes("clear")||e.includes("sunny")?t.push("weather-clear"):e.includes("thunder")?t.push("weather-thunder"):(e.includes("fog")||e.includes("mist"))&&t.push("weather-fog"),this.weatherData.temperature>=30?t.push("weather-hot"):this.weatherData.temperature<=5&&t.push("weather-cold"),this.weatherData.windSpeed>=15?t.push("weather-very-windy"):this.weatherData.windSpeed>=8&&t.push("weather-windy"),t.join(" ")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=g({type:n,selectors:[["app-weather-card"]],inputs:{weatherData:"weatherData",location:"location",isLoading:"isLoading",error:"error"},standalone:!0,features:[_],decls:12,vars:7,consts:[[1,"weather-card","border","border-primary-100/40","border-solid",3,"ngClass"],[1,"weather-animation"],[1,"card-header"],[1,"location-info"],["class","location-details",4,"ngIf"],[1,"date"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","card-content",4,"ngIf"],[1,"location-details"],[1,"loading-state"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"error-state"],[1,"fa-solid","fa-triangle-exclamation"],[1,"card-content"],[1,"weather-icon"],[1,"temperature"],[1,"current-temp"],[1,"feels-like"],[1,"weather-details"],[1,"detail"],[1,"fa-solid","fa-droplet"],[1,"fa-solid","fa-wind"],[1,"weather-condition"]],template:function(t,i){t&1&&(r(0,"div",0),c(1,"div",1),r(2,"div",2)(3,"div",3)(4,"h3"),l(5),o(),m(6,We,2,2,"span",4),o(),r(7,"span",5),l(8),o()(),m(9,Te,4,0,"div",6)(10,Fe,4,1,"div",7)(11,ze,19,7,"div",8),o()),t&2&&(s("ngClass",i.getWeatherBackground()),a(5),w(i.location),a(),s("ngIf",i.weatherData),a(2),w(i.getCurrentDate()),a(),s("ngIf",i.isLoading),a(),s("ngIf",i.error),a(),s("ngIf",!i.isLoading&&!i.error&&i.weatherData))},dependencies:[f,z,M],styles:["@keyframes _ngcontent-%COMP%_rain{0%{background-position:0 0}to{background-position:0 100%}}@keyframes _ngcontent-%COMP%_heavy-rain{0%{background-position:0 0}to{background-position:0 100%}}@keyframes _ngcontent-%COMP%_snow{0%{background-position:0 0}to{background-position:100% 100%}}@keyframes _ngcontent-%COMP%_heavy-snow{0%{background-position:0 0}to{background-position:100% 100%}}@keyframes _ngcontent-%COMP%_clouds{0%{background-position:0 0}to{background-position:100% 0}}@keyframes _ngcontent-%COMP%_strong-wind{0%{background-position:0 0}to{background-position:100% 0}}@keyframes _ngcontent-%COMP%_thunder{0%{filter:brightness(1)}92%{filter:brightness(1)}93%{filter:brightness(2)}94%{filter:brightness(1)}96%{filter:brightness(2)}98%{filter:brightness(1)}}@keyframes _ngcontent-%COMP%_hot-pulse{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}@keyframes _ngcontent-%COMP%_cold-pulse{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.weather-card[_ngcontent-%COMP%]{background-color:#ffffffe6;border-radius:12px;box-shadow:0 4px 12px #0000001a;padding:20px;width:100%;height:100%;display:flex;flex-direction:column;position:relative;overflow:hidden}.weather-animation[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;z-index:0}.card-header[_ngcontent-%COMP%], .card-content[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{position:relative;z-index:1}.weather-rain[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:repeating-linear-gradient(transparent,transparent 5px,rgba(255,255,255,.1) 5px,rgba(255,255,255,.1) 10px);animation:_ngcontent-%COMP%_rain 1s linear infinite;opacity:.7}.weather-heavy-rain[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:repeating-linear-gradient(transparent,transparent 3px,rgba(255,255,255,.2) 3px,rgba(255,255,255,.2) 6px);animation:_ngcontent-%COMP%_heavy-rain .5s linear infinite;opacity:.8}.weather-snow[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:radial-gradient(circle at 50% 50%,white 0%,transparent 8%),radial-gradient(circle at 30% 30%,white 0%,transparent 8%),radial-gradient(circle at 70% 70%,white 0%,transparent 8%);background-size:30px 30px;animation:_ngcontent-%COMP%_snow 5s linear infinite;opacity:.7}.weather-heavy-snow[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:radial-gradient(circle at 50% 50%,white 0%,transparent 8%),radial-gradient(circle at 30% 30%,white 0%,transparent 8%),radial-gradient(circle at 70% 70%,white 0%,transparent 8%),radial-gradient(circle at 20% 20%,white 0%,transparent 8%),radial-gradient(circle at 80% 80%,white 0%,transparent 8%);background-size:20px 20px;animation:_ngcontent-%COMP%_heavy-snow 3s linear infinite;opacity:.8}.weather-clouds[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:linear-gradient(to right,transparent 0%,rgba(255,255,255,.4) 50%,transparent 100%);background-size:200% 100%;animation:_ngcontent-%COMP%_clouds 8s linear infinite;opacity:.3}.weather-clear[_ngcontent-%COMP%]{background:linear-gradient(120deg,#ffffffe6,#e6ffffe6)}.weather-thunder[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_thunder 5s infinite}.weather-fog[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(255,255,255,.8) 0%,transparent 100%);opacity:.5}.weather-hot[_ngcontent-%COMP%]{background:linear-gradient(120deg,#ffc8644d,#ff96324d);background-size:200% 200%;animation:_ngcontent-%COMP%_hot-pulse 5s ease infinite}.weather-cold[_ngcontent-%COMP%]{background:linear-gradient(120deg,#c8e6ff4d,#96c8ff4d);background-size:200% 200%;animation:_ngcontent-%COMP%_cold-pulse 5s ease infinite}.weather-windy[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:linear-gradient(to right,transparent 0%,rgba(255,255,255,.2) 50%,transparent 100%);background-size:200% 100%;animation:_ngcontent-%COMP%_strong-wind 3s linear infinite;opacity:.4}.weather-very-windy[_ngcontent-%COMP%]   .weather-animation[_ngcontent-%COMP%]{background-image:linear-gradient(to right,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%);background-size:200% 100%;animation:_ngcontent-%COMP%_strong-wind 1.5s linear infinite;opacity:.5}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:15px}.location-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:600}.location-details[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-top:2px}.date[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px}.error-state[_ngcontent-%COMP%]{color:#d32f2f}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex-grow:1}.weather-icon[_ngcontent-%COMP%]{font-size:3rem;margin:10px 0;color:#1976d2}.temperature[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:10px 0}.current-temp[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.feels-like[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-top:5px}.weather-details[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;margin:15px 0}.detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:.9rem}.detail[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-bottom:5px;color:#1976d2}.weather-condition[_ngcontent-%COMP%]{text-align:center;font-size:1.1rem;font-weight:500;margin-top:10px;text-transform:capitalize}"]})}}return n})();function Ne(n,d){if(n&1&&(r(0,"div",13),l(1),o()),n&2){let e=p();a(),y(" ",e.error," ")}}function Ae(n,d){if(n&1){let e=O();r(0,"div",18)(1,"span",19),l(2),o(),r(3,"button",20),x("click",function(i){let u=P(e).$implicit,h=p(2);return D(h.removeLocation(u,i))}),c(4,"i",21),o()()}if(n&2){let e=d.$implicit;a(2),w(e)}}function Ue(n,d){if(n&1&&(r(0,"div",14)(1,"span",15),l(2,"Saved Locations"),o(),r(3,"div",16),m(4,Ae,5,1,"div",17),o()()),n&2){let e=p();a(4),s("ngForOf",e.locations)}}function $e(n,d){if(n&1&&(r(0,"div",29)(1,"div",30),c(2,"i",31),r(3,"span",32),l(4),o()()()),n&2){let e=p().$implicit;a(4),y("Loading weather for ",e,"...")}}function Re(n,d){if(n&1&&c(0,"app-weather-card",33),n&2){let e=p().$implicit,t=p(2);s("weatherData",t.weatherDataMap.get(e)||null)("location",e)("isLoading",t.loadingMap.get(e)||!1)("error",t.errorMap.get(e)||null)}}function Ve(n,d){if(n&1&&(r(0,"div",26),m(1,$e,5,1,"div",27)(2,Re,1,4,"app-weather-card",28),o()),n&2){let e=d.$implicit,t=p(2);a(),s("ngIf",t.loadingMap.get(e)),a(),s("ngIf",!t.loadingMap.get(e))}}function Be(n,d){if(n&1&&(r(0,"div",22)(1,"div",23)(2,"div",24),m(3,Ve,3,2,"div",25),o()()()),n&2){let e=p();a(3),s("ngForOf",e.locations)}}function He(n,d){n&1&&(r(0,"div",34),c(1,"i",35),r(2,"p",36),l(3,"Loading weather data..."),o()())}var be=(()=>{class n{constructor(e,t,i,u){this.weatherService=e,this.route=t,this.router=i,this.localStorage=u,this.locations=[],this.weatherDataMap=new Map,this.loading=!1,this.loadingMap=new Map,this.error=null,this.errorMap=new Map,this.routeSubscription=null,this.headerLinkItems=[{name:"All Projects",isActive:!1,routeLink:"/home/projects"},{name:"Weather Dashboard",isActive:!0}]}ngOnInit(){this.routeSubscription=this.route.queryParams.subscribe(e=>{let t=this.localStorage.getItem("weatherLocations");t&&(this.locations=JSON.parse(t)),e.locations&&(e.locations.split("|").forEach(u=>{let h=u.split(",")[0].trim();this.locations.includes(h)||this.locations.push(h)}),this.saveLocations()),this.locations.length>0?(this.loadAllLocations(),this.updateUrlWithLocations()):this.getCurrentLocation()})}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}loadSavedLocations(){let e=this.localStorage.getItem("weatherLocations");e&&(this.locations=JSON.parse(e))}saveLocations(){this.localStorage.setItem("weatherLocations",JSON.stringify(this.locations))}getCurrentLocation(){this.loading=!0,this.error=null,this.weatherService.getCurrentLocation().subscribe({next:e=>{this.loading=!1,e&&this.addLocation(e)},error:e=>{this.loading=!1,this.error="Could not detect your location. Please search for a location manually.",console.error("Error getting current location:",e)}})}loadAllLocations(){this.weatherDataMap.clear(),this.loadingMap.clear(),this.errorMap.clear(),this.locations.forEach(e=>{this.loadWeatherData(e)})}loadWeatherData(e){e&&(this.loadingMap.set(e,!0),this.errorMap.delete(e),this.weatherService.getWeatherData(e).subscribe({next:t=>{this.weatherDataMap.set(e,t),this.loadingMap.set(e,!1),this.error=null},error:t=>{this.errorMap.set(e,`Error loading weather data for ${e}. Please try again.`),this.loadingMap.set(e,!1),console.error(`Error loading weather data for ${e}:`,t)}}))}addLocation(e){this.error=null;let t=e.split(",")[0].trim();this.locations.includes(t)||(this.locations.push(t),this.saveLocations(),this.loadWeatherData(t),this.updateUrlWithLocations())}removeLocation(e,t){t.stopPropagation(),this.locations=this.locations.filter(i=>i!==e),this.saveLocations(),this.weatherDataMap.delete(e),this.loadingMap.delete(e),this.errorMap.delete(e),this.updateUrlWithLocations()}updateUrlWithLocations(){this.router.navigate([],{relativeTo:this.route,queryParams:{locations:this.locations.join("|")},queryParamsHandling:"merge"})}shareLocations(){let e=window.location.href;navigator.clipboard.writeText(e).then(()=>{alert("Link copied to clipboard! Share this link to show the same locations to others.")}).catch(t=>{console.error("Failed to copy link:",t)})}static{this.\u0275fac=function(t){return new(t||n)(v(S),v(de),v(L),v(he))}}static{this.\u0275cmp=g({type:n,selectors:[["app-weather-dashboard"]],standalone:!0,features:[F([S]),_],decls:13,vars:9,consts:[[1,"h-[calc(100vh-90px)]","bg-white"],[1,"h-full","px-4","py-1","flex","flex-col","max-md:p-4"],[1,"flex-none","flex","items-center","justify-between"],[3,"headerLinkItems"],[1,"flex","gap-2"],[3,"onButtonClickEvent","iconClass","buttonName"],[1,"text-sm",3,"onButtonClickEvent","iconClass","buttonName"],[1,"flex-none","mt-3"],[3,"locationAdded"],["class","flex-none mt-3 bg-red-50 text-red-700 p-3 rounded-lg",4,"ngIf"],["class","flex-none mt-2 flex flex-col gap-2 border-x border-primary-900 rounded-xl px-4 py-2",4,"ngIf"],["class","flex-1 min-h-0 border rounded border-gray-100 mt-2 p-2",4,"ngIf"],["class","flex-1 flex flex-col items-center justify-center p-4 text-center",4,"ngIf"],[1,"flex-none","mt-3","bg-red-50","text-red-700","p-3","rounded-lg"],[1,"flex-none","mt-2","flex","flex-col","gap-2","border-x","border-primary-900","rounded-xl","px-4","py-2"],[1,"text-sm","font-medium","text-primary-900","px-2","py-1","w-fit"],[1,"flex","flex-wrap","gap-2"],["class","flex items-center px-3 py-2 rounded-lg border border-solid border-gray-700/20 bg-white shadow-sm backdrop-blur-sm",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-2","rounded-lg","border","border-solid","border-gray-700/20","bg-white","shadow-sm","backdrop-blur-sm"],[1,"text-black"],[1,"ml-2","text-gray-400","hover:!text-red-500","transition-colors",3,"click"],[1,"fa-solid","fa-times"],[1,"flex-1","min-h-0","border","rounded","border-gray-100","mt-2","p-2"],[1,"h-full","overflow-y-auto"],[1,"flex","flex-wrap","gap-4"],["class","w-[calc(25%-12px)] max-xl:w-[calc(33.33%-11px)] max-lg:w-[calc(50%-8px)] max-md:w-full",4,"ngFor","ngForOf"],[1,"w-[calc(25%-12px)]","max-xl:w-[calc(33.33%-11px)]","max-lg:w-[calc(50%-8px)]","max-md:w-full"],["class","h-full rounded-xl border border-gray-200 p-4 flex items-center justify-center",4,"ngIf"],[3,"weatherData","location","isLoading","error",4,"ngIf"],[1,"h-full","rounded-xl","border","border-gray-200","p-4","flex","items-center","justify-center"],[1,"flex","flex-col","items-center","gap-2"],[1,"fa-solid","fa-spinner","fa-spin","text-2xl","text-primary-700"],[1,"text-sm","text-gray-500"],[3,"weatherData","location","isLoading","error"],[1,"flex-1","flex","flex-col","items-center","justify-center","p-4","text-center"],[1,"fa-solid","fa-spinner","fa-spin","text-3xl","text-primary-700","mb-2"],[1,"text-gray-600"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),c(3,"app-custom-header-link",3),r(4,"div",4)(5,"app-custom-button",5),x("onButtonClickEvent",function(){return i.loadAllLocations()}),o(),r(6,"app-custom-button",6),x("onButtonClickEvent",function(){return i.shareLocations()}),o()()(),r(7,"div",7)(8,"app-location-search",8),x("locationAdded",function(h){return i.addLocation(h)}),o()(),m(9,Ne,2,1,"div",9)(10,Ue,5,1,"div",10)(11,Be,4,1,"div",11)(12,He,4,0,"div",12),o()()),t&2&&(a(3),s("headerLinkItems",i.headerLinkItems),a(2),s("iconClass","fa-solid fa-rotate text-sm")("buttonName","Refresh"),a(),s("iconClass","fa-solid fa-share text-sm")("buttonName","Share"),a(3),s("ngIf",i.error),a(),s("ngIf",i.locations.length>0),a(),s("ngIf",!i.loading&&i.weatherDataMap.size>0),a(),s("ngIf",i.loading&&i.weatherDataMap.size===0))},dependencies:[f,b,M,A,N,ye,Ce,C,$,U,_e],encapsulation:2})}}return n})();var Qe=[{path:"",component:R},{path:"weather-dashboard",component:be}],Me=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=W({type:n})}static{this.\u0275inj=E({imports:[C.forChild(Qe),C]})}}return n})();var Ut=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=W({type:n})}static{this.\u0275inj=E({imports:[f,Me,U,R]})}}return n})();export{Ut as ProjectsModule};
